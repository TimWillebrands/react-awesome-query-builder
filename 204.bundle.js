(self.webpackChunk_react_awesome_query_builder_examples=self.webpackChunk_react_awesome_query_builder_examples||[]).push([[204],{98287:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>La});var r=n(93744),l=n(81184),a=n(93883),o=n(67308),i=n(93463),u=o.lazy((function(){return n.e(434).then(n.bind(n,49434))})),c=o.lazy((function(){return n.e(878).then(n.bind(n,9878))})),s={vanilla:u,mui:o.lazy((function(){return Promise.all([n.e(504),n.e(511)]).then(n.bind(n,97591))})),antd:c,material:o.lazy((function(){return n.e(601).then(n.bind(n,40601))})),bootstrap:o.lazy((function(){return Promise.all([n.e(328),n.e(474)]).then(n.bind(n,51080))})),fluent:o.lazy((function(){return n.e(899).then(n.bind(n,79899))}))};const d=function(e){var t=e.skin,n=s[t];return o.createElement(o.Suspense,{fallback:o.createElement(o.Fragment,null,"loading styles for ",t)},o.createElement(n,null))};var p=n(88823),f=n.n(p),m=n(64234),v=n.n(m),g=n(12495),h=n.n(g),y=n(5866),b=n.n(y),E=n(38385),A=n(8305),C=n(75894),w=n(35060),S=n(76045),k=n(35789),x=n(70142),O=n(42378),R=n(41957),W=n(5821),P=n.n(W),V=n(60108),F=n(19869).A;F.getMillisecond||(F.getMillisecond=function(e){return e.millisecond()},F.setMillisecond=function(e,t){return e.clone().millisecond(t)});const j=F,L=V.A.generatePicker(j);n(14953).A.generateCalendar(j);var T=o.forwardRef((function(e,t){return o.createElement(L,(0,r.A)({},e,{picker:"time",mode:void 0,ref:t}))}));T.displayName="TimePicker";const B=T;function M(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,D()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(D=function(){return!!e})()}var I=L.RangePicker,N=i.Aq.moment,q=function(e){function t(e){var n;(0,S.A)(this,t),(n=M(this,t,[e])).isValidSingleValue=function(e){var t=n.props.valueFormat,r=e?N(e,t):null;return!r||r&&r.isValid()},n.isValidValue=function(e){return n.props.isSpecialRange?!e||e.map((function(e){return n.isValidSingleValue(e)})).reduce((function(e,t){return e&&t}),!0):n.isValidSingleValue(e)},n.getMomentSingleValue=function(e){var t=n.props.valueFormat,r=e?N(e,t):null;return r&&!r.isValid()&&(r=null),r},n.getMomentValue=function(e){return n.props.isSpecialRange?e?e.map((function(e){return n.getMomentSingleValue(e)})):[null,null]:n.getMomentSingleValue(e)},n.formatSingleValue=function(e){var t=n.props.valueFormat;return e&&e.isValid()?e.format(t):void 0},n.formatValue=function(e){return n.props.isSpecialRange?e?e.map((function(e){return n.formatSingleValue(e)})):[void 0,void 0]:n.formatSingleValue(e)},n.handleChange=function(e){var t=n.props.setValue;n.isValidValue(e)&&t(n.formatValue(e))};var r=e.value,l=e.setValue;return n.isValidValue(r)||l(n.formatValue(n.getMomentValue(r))),n}return(0,R.A)(t,e),(0,k.A)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.placeholders,l=e.customProps,a=e.value,i=e.dateFormat,u=e.config,c=e.readonly,s=e.isSpecialRange,d=u.settings.renderSize,p=this.getMomentValue(a);return s?o.createElement(I,(0,r.A)({disabled:c,key:"widget-date",placeholder:n,size:d,format:i,value:p,onChange:this.handleChange},l)):o.createElement(L,(0,r.A)({disabled:c,key:"widget-date",placeholder:t,size:d,format:i,value:p,onChange:this.handleChange},l))}}])}(o.PureComponent);function z(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,_()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}q.propTypes={setValue:P().func.isRequired,value:P().oneOfType([P().string,P().arrayOf(P().string)]),field:P().any,config:P().object.isRequired,placeholder:P().string,placeholders:P().arrayOf(P().string),customProps:P().object,readonly:P().bool,dateFormat:P().string,valueFormat:P().string},q.defaultProps={dateFormat:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD"};var G=i.Aq.moment,$=function(e){function t(e){var n;(0,S.A)(this,t),(n=z(this,t,[e])).handleChange=function(e){var t=n.props,r=t.setValue,l=t.valueFormat,a=e&&e.isValid()?e.format(l):void 0;(a||null===e)&&r(a)};var r=e.valueFormat,l=e.value,a=e.setValue,o=l?G(l,r):null;return o&&!o.isValid()&&a(null),n}return(0,R.A)(t,e),(0,k.A)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.customProps,l=e.value,a=e.valueFormat,i=e.dateFormat,u=e.timeFormat,c=e.use12Hours,s=e.config,d=e.readonly,p=s.settings.renderSize,f=l?G(l,a):null,m=i+" "+u;return o.createElement(L,(0,r.A)({disabled:d,key:"widget-datetime",use12Hours:c,showTime:{format:u},placeholder:t,size:p,format:m,value:f,onChange:this.handleChange},n))}}])}(o.PureComponent);function U(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,Y()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Y=function(){return!!e})()}$.propTypes={setValue:P().func.isRequired,value:P().string,config:P().object.isRequired,field:P().any,placeholder:P().string,customProps:P().object,readonly:P().bool,timeFormat:P().string,dateFormat:P().string,valueFormat:P().string,use12Hours:P().bool},$.defaultProps={timeFormat:"HH:mm",dateFormat:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD HH:mm:ss",use12Hours:!1};var H=i.Aq.moment,K=function(e){function t(e){var n;(0,S.A)(this,t),(n=U(this,t,[e])).handleChange=function(e){var t=n.props,r=t.setValue,l=t.valueFormat,a=t.timeFormat;e&&e.isValid()&&"HH:mm"==a&&e.set({second:0,millisecond:0});var o=e&&e.isValid()?e.format(l):void 0;(o||null===e)&&r(o)};var r=e.valueFormat,l=e.value,a=e.setValue,o=l?H(l,r):null;return o&&!o.isValid()&&a(null),n}return(0,R.A)(t,e),(0,k.A)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.customProps,l=e.value,a=e.valueFormat,i=e.timeFormat,u=e.use12Hours,c=e.config,s=e.readonly,d=c.settings.renderSize,p=l?H(l,a):null;return o.createElement(B,(0,r.A)({disabled:s,use12Hours:u,key:"widget-time",size:d,placeholder:t,format:i,value:p,onChange:this.handleChange},n))}}])}(o.PureComponent);K.propTypes={setValue:P().func.isRequired,value:P().string,config:P().object.isRequired,field:P().any,placeholder:P().string,customProps:P().object,readonly:P().bool,timeFormat:P().string,valueFormat:P().string,use12Hours:P().bool},K.defaultProps={timeFormat:"HH:mm",valueFormat:"HH:mm:ss",use12Hours:!1};var Q=n(51699),X=48,J={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"'Helvetica Neue', Helvetica, Arial, sans-serif",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"14px";if("undefined"!=typeof document){var r=document.createElement("div");r.innerHTML=e;var l={position:"absolute",float:"left","white-space":"nowrap",visibility:"hidden","font-size":n,"font-family":t};for(var a in l)r.style[a]=l[a];var o=(r=document.body.appendChild(r)).offsetWidth;return document.body.removeChild(r),o}};function ee(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,te()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(te=function(){return!!e})()}var ne=i.Aq.ReactUtils.useOnPropsChanged,re=i.Aq.ListUtils.mapListValues,le=Q.A.Option,ae={value:"value",title:"children",groupTitle:"grouplabel"},oe=function(e){function t(e){var n;return(0,S.A)(this,t),(n=ee(this,t,[e])).handleChange=function(e){n.props.setValue(e)},n.filterOption=function(e,t){return n.props.config.settings.listKeysForSearch.map((function(e){return ae[e]})).map((function(e){return"string"==typeof t[e]?t[e]:""})).join("\0").toLowerCase().indexOf(e.toLowerCase())>=0},ne(n),n.onPropsChanged(e),n}return(0,R.A)(t,e),(0,k.A)(t,[{key:"onPropsChanged",value:function(e){var t=e.listValues,n=0;re(t,(function(e){var t=e.title;e.value,n=Math.max(n,Z(t,null))})),!isNaN(n)&&n&&(this.optionsMaxWidth=n),this.options=re(t,(function(e){var t=e.title,n=e.value;return o.createElement(le,{key:n+"",value:n+""},t)}))}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.placeholder,l=e.customProps,a=e.value,i=e.readonly,u=t.settings.renderSize,c=Z(n),s=this.optionsMaxWidth?this.optionsMaxWidth+X:null,d=a?s:c?c+X:null,p=null!=a?a+"":void 0,f=v()(l,[""]);return o.createElement(Q.A,(0,r.A)({disabled:i,style:{width:d},key:"widget-select",popupMatchSelectWidth:!1,placeholder:n,size:u,value:p,onChange:this.handleChange,filterOption:this.filterOption},f),this.options)}}])}(o.Component);oe.propTypes={setValue:P().func.isRequired,config:P().object.isRequired,field:P().any,value:P().oneOfType([P().string,P().number]),customProps:P().object,fieldDefinition:P().object,readonly:P().bool,listValues:P().oneOfType([P().object,P().array])};var ie=n(78271),ue=n(25229);function ce(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,se()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function se(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(se=function(){return!!e})()}var de=function(e){function t(){var e;(0,S.A)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=ce(this,t,[].concat(r))).handleChange=function(t){var n=t.target.value,r=""===n?void 0:n;e.props.setValue(r)},e}return(0,R.A)(t,e),(0,k.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,n=e.placeholder,l=e.customProps,a=e.value,i=e.readonly,u=e.maxLength,c=t.settings.renderSize,s=null!=a?a:null;return o.createElement(ie.A,null,o.createElement(ue.A,(0,r.A)({disabled:i,key:"widget-text",size:c,type:"text",value:s,placeholder:n,maxLength:u,onChange:this.handleChange},l)))}}])}(o.PureComponent);function pe(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,fe()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function fe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fe=function(){return!!e})()}de.propTypes={setValue:P().func.isRequired,placeholder:P().string,config:P().object.isRequired,value:P().string,field:P().any,readonly:P().bool,customProps:P().object,maxLength:P().number};var me=ue.A.TextArea,ve=function(e){function t(){var e;(0,S.A)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=pe(this,t,[].concat(r))).handleChange=function(t){var n=t.target.value,r=""===n?void 0:n;e.props.setValue(r)},e}return(0,R.A)(t,e),(0,k.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,n=e.placeholder,l=e.customProps,a=e.value,i=e.readonly,u=e.maxLength,c=e.maxRows,s=(e.fullWidth,t.settings),d=s.renderSize,p=s.defaultMaxRows,f=null!=a?a:null;return o.createElement(ie.A,null,o.createElement(me,(0,r.A)({autoSize:{minRows:1,maxRows:c||p},maxLength:u,disabled:i,key:"widget-textarea",size:d,value:f,placeholder:n,onChange:this.handleChange},l)))}}])}(o.PureComponent);ve.propTypes={setValue:P().func.isRequired,placeholder:P().string,config:P().object.isRequired,value:P().string,field:P().any,readonly:P().bool,customProps:P().object,maxLength:P().number,maxRows:P().number};var ge=n(14694);function he(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,ye()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function ye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ye=function(){return!!e})()}var be=function(e){function t(){var e;(0,S.A)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=he(this,t,[].concat(r))).handleChange=function(t){""!==t&&null!==t||(t=void 0),e.props.setValue(t)},e}return(0,R.A)(t,e),(0,k.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,n=e.placeholder,l=e.customProps,a=e.value,i=e.min,u=e.max,c=e.step,s=e.readonly,d=t.settings.renderSize,p=null!=a?a:void 0;return o.createElement(ie.A,null,o.createElement(ge.A,(0,r.A)({disabled:s,key:"widget-number",size:d,value:p,min:i,max:u,step:c,placeholder:n,onChange:this.handleChange},l)))}}])}(o.PureComponent);be.propTypes={setValue:P().func.isRequired,placeholder:P().string,config:P().object.isRequired,field:P().any,value:P().oneOfType([P().string,P().number]),customProps:P().object,fieldDefinition:P().object,readonly:P().bool,min:P().number,max:P().number,step:P().number},be.defaultProps={min:void 0,max:void 0,step:void 0};var Ee=n(20218),Ae=n(3989),Ce=["width"],we=o.memo((function(e){var t=e.setValue,n=e.placeholder,l=e.config,a=(e.field,e.value),i=e.customProps,u=(e.fieldDefinition,e.readonly),c=(e.errorMessage,e.min),s=e.max,d=e.step,p=e.marks,f=l.settings,m=f.renderSize,v=(f.showErrorMessage,f.defaultSliderWidth),g=i||{},h=g.width,y=(0,Ae.A)(g,Ce),b=(0,o.useMemo)((function(){return y.input||{}}),[i]),E=(0,o.useMemo)((function(){return y.slider||y}),[i]),A=(0,o.useCallback)((function(e){return null!=e?e.toString():void 0}),[]),C=(0,o.useMemo)((function(){return{formatter:A}}),[A]),w=(0,o.useCallback)((function(e){""===e&&(e=void 0),t(e)}),[t]),S=a;null==S&&(S=null);var k=null==S&&c?c:S;return o.createElement(ie.A,{style:{display:"inline-flex",flexWrap:"wrap"}},o.createElement(ie.A,{key:"col-number",style:{float:"left",marginRight:"5px"}},o.createElement(ge.A,(0,r.A)({key:"input-number",disabled:u,size:m,value:S,min:c,max:s,step:d,placeholder:n,onChange:w},b))),o.createElement(ie.A,{key:"col-slider",style:{float:"left",width:h||v}},o.createElement(Ee.A,(0,r.A)({key:"input-slider",disabled:u,value:k,tooltip:C,min:c,max:s,included:!0,step:d,marks:p,onChange:w},E))),o.createElement(ie.A,{key:"col-clear",style:{clear:"both"}}))}));we.displayName="SliderWidget",we.propTypes={setValue:P().func.isRequired,placeholder:P().string,config:P().object.isRequired,field:P().any,value:P().number,customProps:P().object,fieldDefinition:P().object,readonly:P().bool,min:P().number,max:P().number,step:P().number,marks:P().object};const Se=we;var ke=n(83756),xe=["width"];function Oe(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,Re()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function Re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Re=function(){return!!e})()}var We=function(e){function t(e){var n;(0,S.A)(this,t),(n=Oe(this,t,[e])).state={},n.handleChange=function(e){n.props.setValue(e)},n.handleChangeFrom=function(e){var t=n.props.value||[void 0,void 0];""!==e&&null!=e||(e=void 0),(t=(0,ke.A)(t))[0]=e,n.props.setValue(t)},n.handleChangeTo=function(e){var t=n.props.value||[void 0,void 0];""!==e&&null!=e||(e=void 0),(t=(0,ke.A)(t))[1]=e,n.props.setValue(t)},n.tipFormatter=function(e){return null!=e?e.toString():""};var r=e.value||[null,null],a=(0,l.A)(r,2);return a[0],a[1],e.value,n}return(0,R.A)(t,e),(0,k.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,n=e.placeholders,a=e.customProps,i=e.value,u=e.min,c=e.max,s=e.step,d=e.marks,p=e.textSeparators,f=e.readonly,m=t.settings,v=m.renderSize,g=m.defaultSliderWidth,h=a||{},y=h.width,b=(0,Ae.A)(h,xe),E=b.input||{},A=b.slider||b,C=null!=i?i:void 0,w=C||[null,null],S=(0,l.A)(w,2),k=S[0],x=S[1];return o.createElement(ie.A,{style:{display:"inline-flex",flexWrap:"wrap"}},o.createElement(ie.A,{style:{float:"left",marginRight:"5px"}},o.createElement(ge.A,(0,r.A)({disabled:f,size:v,key:"numFrom",value:k,min:u,max:c,step:s,placeholder:n[0],onChange:this.handleChangeFrom},E))),o.createElement(ie.A,{style:{float:"left",marginRight:"5px",lineHeight:"20px"}},o.createElement("span",null,p[1])),o.createElement(ie.A,{style:{float:"left",marginRight:"5px"}},o.createElement(ge.A,(0,r.A)({disabled:f,size:v,key:"numTo",value:x,min:u,max:c,step:s,placeholder:n[1],onChange:this.handleChangeTo},E))),o.createElement(ie.A,{style:{float:"left",width:y||g}},o.createElement(Ee.A,(0,r.A)({disabled:f,value:C,tooltip:{formatter:this.tipFormatter},min:u,max:c,step:s,marks:d,included:!1,range:!0,onChange:this.handleChange},A))),o.createElement(ie.A,{style:{clear:"both"}}))}}])}(o.PureComponent);We.propTypes={setValue:P().func.isRequired,placeholder:P().string,placeholders:P().array,textSeparators:P().array,config:P().object.isRequired,field:P().any,value:P().array,customProps:P().object,fieldDefinition:P().object,readonly:P().bool,min:P().number,max:P().number,step:P().number,marks:P().object},We.defaultProps={min:0,max:100,step:1,marks:void 0};var Pe=n(21535);function Ve(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,Fe()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function Fe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Fe=function(){return!!e})()}var je=function(e){function t(){var e;(0,S.A)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=Ve(this,t,[].concat(r))).handleChange=function(t){e.props.setValue(t)},e}return(0,R.A)(t,e),(0,k.A)(t,[{key:"render",value:function(){var e=this.props,t=e.customProps,n=e.value,l=e.labelYes,a=e.labelNo,i=e.readonly;return o.createElement(Pe.A,(0,r.A)({checkedChildren:l||null,unCheckedChildren:a||null,checked:n||null,onChange:this.handleChange,disabled:i},t))}}])}(o.PureComponent);function Le(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,Te()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function Te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Te=function(){return!!e})()}je.propTypes={setValue:P().func.isRequired,value:P().bool,config:P().object.isRequired,field:P().any,customProps:P().object,readonly:P().bool,labelYes:P().string,labelNo:P().string},je.defaultProps={labelYes:null,labelNo:null};var Be=i.Aq.ReactUtils.useOnPropsChanged,Me=i.Aq.ListUtils.mapListValues,De=Q.A.Option,Ie=function(e){function t(e){var n;return(0,S.A)(this,t),(n=Le(this,t,[e])).handleChange=function(e){e&&!e.length&&(e=void 0),n.props.setValue(e)},n.filterOption=function(e,t){return(t.children||t.value).toLowerCase().indexOf(e.toLowerCase())>=0},Be(n),n.onPropsChanged(e),n}return(0,R.A)(t,e),(0,k.A)(t,[{key:"onPropsChanged",value:function(e){var t=e.listValues,n=0;Me(t,(function(e){var t=e.title;e.value,n=Math.max(n,Z(t,null))})),!isNaN(n)&&n&&(this.optionsMaxWidth=n),this.options=Me(t,(function(e){var t=e.title,n=e.value;return o.createElement(De,{key:n,value:n},t)}))}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.placeholder,l=e.allowCustomValues,a=e.customProps,i=e.value,u=e.readonly,c=t.settings.renderSize,s=Z(n),d=s?s+X:null,p=i&&i.length?i:void 0,f=p?null:d,m=this.optionsMaxWidth?this.optionsMaxWidth+X:null,g=v()(a,["showCheckboxes"]);return o.createElement(Q.A,(0,r.A)({disabled:u,mode:l?"tags":"multiple",style:{minWidth:f,width:f},dropdownStyle:{width:m},key:"widget-multiselect",popupMatchSelectWidth:!1,placeholder:n,size:c,value:p,onChange:this.handleChange,filterOption:this.filterOption},g),this.options)}}])}(o.Component);Ie.propTypes={setValue:P().func.isRequired,config:P().object.isRequired,value:P().array,field:P().any,placeholder:P().string,customProps:P().object,fieldDefinition:P().object,readonly:P().bool,listValues:P().oneOfType([P().object,P().array]),allowCustomValues:P().bool};var Ne=n(54515),qe=n(59707),ze=n(50321),_e=n(87472),Ge=n.n(_e);function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ue=i.Aq.Autocomplete.fixListValuesGroupOrder,Ye=i.Rj.W,He={value:"value",title:"label",groupTitle:"grouplabel"},Ke=n(40610),Qe=n(5396);function Xe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Je(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw a}}}}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ze=i.Aq.ListUtils,et=Ze.getItemInListValues,tt=Ze.listValuesToArray,nt={id:"value",pId:"parent",rootPId:void 0},rt=function e(t,n){var r=nt,l=et(t,n),a=l?l[r.pId]:void 0,o=a?t.find((function(e){return e[r.id]===a})):void 0;return o?[o.value].concat((0,ke.A)(e(t,o.value))):[]},lt=function(e,t){var n=nt,r=et(e,t);return r?e.filter((function(e){return e[n.pId]===r[n.id]})).map((function(e){return e.value})):[]};function at(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,ot()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function ot(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ot=function(){return!!e})()}var it=i.Aq.ReactUtils.useOnPropsChanged,ut=i.Aq.ListUtils,ct=ut.getTitleInListValues,st=ut.mapListValues,dt=function(e){function t(e){var n;return(0,S.A)(this,t),(n=at(this,t,[e])).handleChange=function(e){n.props.treeMultiple?!e||e.length?("object"==(0,Qe.A)(e[0])&&void 0!==e[0].value&&(e=e.map((function(e){return e.value}))),n.props.setValue(e)):n.props.setValue(void 0):n.props.setValue(e)},n.filterTreeNode=function(e,t){return t.title.toLowerCase().indexOf(e.toLowerCase())>=0},it(n),n.onPropsChanged(e),n}return(0,R.A)(t,e),(0,k.A)(t,[{key:"onPropsChanged",value:function(e){var t=e.listValues,n=e.treeValues,r=e.treeMultiple,l=0,a=r?46:24;st(n||t,(function(e){var t=e.title,n=(e.value,e.path);l=Math.max(l,Z(t,null)+10+20*(n?n.length:0)+a)})),!isNaN(l)&&l&&(this.optionsMaxWidth=l)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.placeholder,l=e.customProps,a=void 0===l?{}:l,i=e.value,u=e.treeMultiple,c=e.listValues,s=e.treeValues,d=e.treeExpandAll,p=e.readonly,f=s||c,m=a.treeCheckStrictly||!1,v=t.settings.renderSize,g=Z(n),h=null!=i?i:void 0;m&&void 0!==h&&u&&(h=h.map((function(e){return{value:e,label:ct(f,e)}})));var y=h||!g?null:g+X+6;return Math.max(100,Math.min(800,this.optionsMaxWidth)),o.createElement(Ke.A,(0,r.A)({disabled:p,style:{minWidth:y,width:y},dropdownStyle:{width:"auto",paddingRight:"10px"},multiple:u,treeCheckable:u,key:"widget-treeselect",popupMatchSelectWidth:!1,placeholder:n,size:v,treeData:f,treeDataSimpleMode:nt,filterTreeNode:this.filterTreeNode,value:h,onChange:this.handleChange,treeDefaultExpandAll:d},a))}}])}(o.Component);dt.propTypes={setValue:P().func.isRequired,config:P().object.isRequired,value:P().oneOfType([P().string,P().array]),field:P().any,placeholder:P().string,customProps:P().object,fieldDefinition:P().object,readonly:P().bool,treeMultiple:P().bool,listValues:P().oneOfType([P().object,P().array]),treeValues:P().oneOfType([P().object,P().array])};var pt=Q.A.Option,ft=Q.A.OptGroup,mt={key:"_value2",path:"value",label:"label",altLabel:"title",tooltip:"_tooltip",grouplabel:"grouplabel",fullLabel:"_fullLabel"},vt=function(e){var t=e.setField,n=e.config,a=e.customProps,i=e.items,u=e.placeholder,c=e.selectedKey,s=e.selectedLabel,d=(e.selectedOpts,e.selectedAltLabel),p=e.selectedFullLabel,f=e.readonly,m=e.errorText,v=(a||{}).showSearch,g=(0,o.useState)(!1),h=(0,l.A)(g,2),y=h[0],b=h[1],E=(0,o.useState)(""),A=(0,l.A)(E,2),C=A[0],w=A[1],S=Z(s||u),k=!!c,x=n.settings.dropdownPlacement,O=x?J[x]:void 0,R=k&&!v||!S?null:S+X,W=d||p;W==s&&(W=null);var P=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map((function(t){var r=t.items,l=t.key,a=t.path,i=t.label,u=t.fullLabel,c=t.altLabel,s=t.tooltip,d=t.grouplabel,p=t.disabled,f=t.matchesType,m=n>0?"  ".repeat(n):"",v=n>1?"  ".repeat(n-1):"",g=a||l;if(r){var h,y=r.filter((function(e){return!e.items})),b=r.filter((function(e){return!!e.items}));if(y.length){var E=m+i;s&&(E=o.createElement(ze.A,{title:s},E)),h=o.createElement(ft,{key:g,label:E},e(y,n+1))}var A=b.length?e(b,n+1):[];return[].concat((0,ke.A)(h?[h]:[]),(0,ke.A)(A))}var C=f?o.createElement("b",null,v+i):v+i,w=s?o.createElement(ze.A,{title:s},C):C;return o.createElement(pt,{key:g,value:g,title:c,grouplabel:d,label:i,disabled:p,_fullLabel:u,_tooltip:s,_value2:l},w)})).flat(1/0)}(i),V=o.createElement(Q.A,(0,r.A)({open:y,onDropdownVisibleChange:b,dropdownAlign:O,popupMatchSelectWidth:!1,style:{width:R},placeholder:u,size:n.settings.renderSize,onChange:function(e){t(e)},value:c||void 0,optionLabelProp:"label",filterOption:function(e,t){return n.settings.fieldItemKeysForSearch.map((function(e){return mt[e]})).map((function(e){return"string"==typeof t[e]?t[e]:""})).join("\0").toLowerCase().indexOf(e.toLowerCase())>=0},disabled:f,status:m&&"error",showSearch:!0,searchValue:C,onSearch:function(e){w(e)}},a),P);return W&&(V=o.createElement(ze.A,{title:y?null:W},V)),V};vt.displayName="FieldSelect";const gt=vt;var ht=n(80352),yt=n(29568),bt=n(21273),Et=n(4446);function At(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,Ct()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function Ct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ct=function(){return!!e})()}var wt=bt.A.SubMenu,St=bt.A.Item,kt=function(e){function t(){var e;(0,S.A)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=At(this,t,[].concat(r))).onChange=function(t){var n=t.key;t.keyPath,e.props.setField(n)},e}return(0,R.A)(t,e),(0,k.A)(t,[{key:"renderMenuItems",value:function(e){var t=this;return e.map((function(e){var n=e.items,r=e.key,l=e.path,a=e.label,i=(e.fullLabel,e.altLabel,e.tooltip),u=e.disabled,c=l||r,s=e.matchesType?o.createElement("b",null,a):a,d=i?o.createElement(ze.A,{title:i},s):s;return n?o.createElement(wt,{key:c,title:o.createElement("span",null,d,"     ")},t.renderMenuItems(n)):o.createElement(St,{key:c,disabled:u},d)}))}},{key:"renderMenuToggler",value:function(e,t,n,r,l){var a=o.createElement(yt.Ay,{size:n.settings.renderSize,disabled:r,danger:!!l},e," ",o.createElement(Et.A,null));return t&&(a=o.createElement(ze.A,{placement:"top",title:t},a)),a}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.customProps,l=e.items,a=e.placeholder,i=e.errorText,u=e.selectedKeys,c=e.selectedLabel,s=(e.selectedOpts,e.readonly),d=e.selectedAltLabel,p=e.selectedFullLabel,f=this.renderMenuItems(l),m=o.createElement(bt.A,(0,r.A)({selectedKeys:u,onClick:this.onChange},v()(n,["showSearch"])),f),g=d||c||a,h=p;h==c&&(h=null);var y=this.renderMenuToggler(g,h,t,s,i);return s?y:o.createElement(ht.A,{overlay:m,trigger:["click"],placement:t.settings.dropdownPlacement},y)}}])}(o.PureComponent);kt.propTypes={config:P().object.isRequired,customProps:P().object,errorText:P().string,items:P().array.isRequired,placeholder:P().string,selectedKey:P().string,selectedKeys:P().array,selectedPath:P().array,selectedLabel:P().string,selectedAltLabel:P().string,selectedFullLabel:P().string,selectedOpts:P().object,readonly:P().bool,setField:P().func.isRequired};var xt=n(51546);function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,Pt()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function Pt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pt=function(){return!!e})()}var Vt=i.Aq.ReactUtils.useOnPropsChanged,Ft=i.Aq.ConfigUtils.getFieldParts,jt={key:"key",path:"_path",label:"_label",altLabel:"altLabel",tooltip:"tooltip",grouplabel:"grouplabel",fullLabel:"fullLabel"},Lt=function(e){function t(e){var n;return(0,S.A)(this,t),(n=Wt(this,t,[e])).setOpen=function(e){n.setState({open:e})},n.onChange=function(e){var t=n.props.parentField,r=t?t.split("."):[];n.props.setField([].concat((0,ke.A)(r),(0,ke.A)(e)))},n.filterOption=function(e,t){var r,l=n.props.config.settings.fieldItemKeysForSearch.map((function(e){return jt[e]}));return r=t[t.length-1],l.map((function(e){return"string"==typeof r[e]?r[e]:""})).join("\0").toLowerCase().indexOf(e.toLowerCase())>=0},Vt(n),n.onPropsChanged(e),n.state={open:!1},n}return(0,R.A)(t,e),(0,k.A)(t,[{key:"onPropsChanged",value:function(e){var t=e.items;this.items=this.getItems(t)}},{key:"getItems",value:function(e){var t=this;return e.map((function(e){var n=e.items,r=e.matchesType,l=e.label,a=e.key,i=e.path,u=e.tooltip,c=r?o.createElement("b",null,l):l;return u&&(c=o.createElement(ze.A,{title:u},c)),Rt(Rt({},e),{},n?{key:a,_path:i,items:t.getItems(n),label:c,_label:l}:{key:a,_path:i,label:c,_label:l})}))}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.customProps,l=(e.items,e.placeholder),a=e.errorText,i=e.selectedPath,u=e.selectedLabel,c=e.selectedOpts,s=e.selectedAltLabel,d=(e.selectedFullLabel,e.readonly),p=(e.selectedField,e.parentField),f=this.state.open,m=Rt({},n);m.showSearch&&(m.showSearch={filter:this.filterOption}),t.settings.fieldSeparator;var v=function(e,t){if(!e)return e;for(var n=!0,r=0;r<t.length;r++){var l=t[r];if(void 0===e[r]||l!=e[r]){n=!1;break}}return n?e.slice(t.length):e}(i,Ft(p,t)),g=o.createElement(xt.A,(0,r.A)({open:f,onDropdownVisibleChange:this.setOpen,status:a&&"error",fieldNames:{label:"label",value:"key",children:"items"},options:this.items,value:v,onChange:this.onChange,allowClear:!1,placeholder:l,size:t.settings.renderSize,disabled:d},m)),h=c.tooltip||s;return h==u&&(h=null),h&&(g=o.createElement(ze.A,{title:f?null:h},g)),g}}])}(o.Component);function Tt(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,Bt()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function Bt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Bt=function(){return!!e})()}Lt.propTypes={config:P().object.isRequired,customProps:P().object,errorText:P().string,items:P().array.isRequired,placeholder:P().string,selectedKey:P().string,selectedKeys:P().array,selectedPath:P().array,selectedLabel:P().string,selectedAltLabel:P().string,selectedFullLabel:P().string,selectedOpts:P().object,readonly:P().bool,setField:P().func.isRequired};var Mt=i.Aq.ReactUtils.useOnPropsChanged,Dt={key:"_value2",path:"value",label:"label",altLabel:"altLabel",tooltip:"_tooltip",grouplabel:"_grouplabel",fullLabel:"fullLabel"},It=function(e){function t(e){var n;return(0,S.A)(this,t),(n=Tt(this,t,[e])).setOpen=function(e){n.setState({open:e})},n.onChange=function(e){n.props.setField(e)},n.filterTreeNode=function(e,t){return n.props.config.settings.fieldItemKeysForSearch.map((function(e){return Dt[e]})).map((function(e){return"string"==typeof t[e]?t[e]:""})).join("\0").toLowerCase().indexOf(e.toLowerCase())>=0},Mt(n),n.onPropsChanged(e),n.state={open:!1},n}return(0,R.A)(t,e),(0,k.A)(t,[{key:"onPropsChanged",value:function(e){var t=e.items,n=e.config.settings.fieldSeparator,r=0;this.treeData=this.getTreeData(t,(function(e){var t=e.label,l=e.path;r=Math.max(r,Z(t,null)+10+20*(l.split(n).length-1)+24)})),!isNaN(r)&&r&&(this.optionsMaxWidth=r)}},{key:"getTreeData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.map((function(e){var r=e.items,l=e.key,a=e.path,i=e.label,u=e.fullLabel,c=e.altLabel,s=e.tooltip,d=e.disabled,p=e.grouplabel,f=e.matchesType;n&&n(e);var m=a||l,v=f?o.createElement("b",null,i):i,g=s?o.createElement(ze.A,{title:s},v):v;return r?{value:m,title:g,children:t.getTreeData(r,n),selectable:!1,altLabel:c,fullLabel:u,label:i,disabled:d,_value2:l,_tooltip:s,_grouplabel:p}:{value:m,title:g,altLabel:c,fullLabel:u,label:i,disabled:d,_value2:l,_tooltip:s,_grouplabel:p}}))}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.customProps,l=void 0===n?{}:n,a=e.placeholder,i=e.errorText,u=e.selectedKey,c=e.selectedLabel,s=e.selectedOpts,d=e.selectedAltLabel,p=e.selectedFullLabel,f=e.readonly,m=this.state.open,v=t.settings,g=v.renderSize,h=v.fieldSeparator,y=d||p;y==c&&(y=null);var b=u?u.split(h):null,E=b&&b.length>1?b.slice(0,-1).map((function(e,t){return b.slice(0,t+1).join(h)})):null,A=Z(a),C=!!u,w=A?A+X+6:null,S=(Math.max(100,Math.min(800,this.optionsMaxWidth)),o.createElement(Ke.A,(0,r.A)({open:m,onDropdownVisibleChange:this.setOpen,status:i&&"error",onChange:this.onChange,value:u||void 0,style:{minWidth:w,width:C?null:w},dropdownStyle:{width:"auto",paddingRight:"10px"},multiple:!1,treeCheckable:!1,treeDataSimpleMode:!1,treeData:this.treeData,size:g,placeholder:a,filterTreeNode:this.filterTreeNode,treeDefaultExpandedKeys:E,popupMatchSelectWidth:!1,disabled:f},l)));return y&&!s.tooltip&&(S=o.createElement(ze.A,{title:m?null:y},S)),S}}])}(o.Component);It.propTypes={config:P().object.isRequired,customProps:P().object,errorText:P().string,items:P().array.isRequired,placeholder:P().string,selectedKey:P().string,selectedKeys:P().array,selectedPath:P().array,selectedLabel:P().string,selectedAltLabel:P().string,selectedFullLabel:P().string,selectedOpts:P().object,readonly:P().bool,setField:P().func.isRequired};var Nt=n(95574),qt=n(2882),zt=n(25050),_t=n(84799),Gt=i.Aq.DragIcon,$t={addRule:o.createElement(Nt.A,null),addGroup:o.createElement(qt.A,null),delRule:o.createElement(zt.A,null),delGroup:o.createElement(zt.A,null),delRuleGroup:o.createElement(zt.A,null),addRuleGroup:o.createElement(Nt.A,null),addRuleGroupExt:o.createElement(Nt.A,null),drag:o.createElement(_t.A,null)},Ut={addRuleGroup:!0,delGroup:!0,delRuleGroup:!0,delRule:!0},Yt={addRule:"action action--ADD-RULE",addGroup:"action action--ADD-GROUP",delRule:"action action--DELETE",delGroup:"action action--DELETE",delRuleGroup:"action action--DELETE",addRuleGroup:"action action--ADD-RULE"},Ht={delRule:"text"},Kt={delRule:!0,delGroup:!0,delRuleGroup:!0},Qt=yt.Ay.Group,Xt=n(99629),Jt=n.n(Xt);function Zt(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,en()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function en(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(en=function(){return!!e})()}var tn=yt.Ay.Group,nn=function(e){function t(){var e;(0,S.A)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=Zt(this,t,[].concat(r))).onClick=function(t){var n=e.props;(0,n.setConjunction)(n.item.key)},e}return(0,R.A)(t,e),(0,k.A)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.item;return o.createElement(yt.Ay,{disabled:t,type:n.checked?"primary":null,onClick:this.onClick},n.label)}}])}(o.PureComponent),rn=function(e){function t(){var e;(0,S.A)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=Zt(this,t,[].concat(r))).setNot=function(t){var n=e.props,r=n.setNot,l=n.not;r&&r(!l)},e}return(0,R.A)(t,e),(0,k.A)(t,[{key:"render",value:function(){var e=this.props,t=e.readonly,n=e.disabled,r=e.not,l=e.conjunctionOptions,a=e.config,i=e.setConjunction,u=e.notLabel,c=e.showNot,s=Object.keys(l).length,d=n,p=a.settings,f=p.forceShowConj,m=p.renderSize,v=f||s>1&&!d;return o.createElement(tn,{key:"group-conjs-buttons",size:m,disabled:n||t},c&&(!t||r)&&o.createElement(yt.Ay,{key:"group-not",onClick:this.setNot,type:r?"primary":null,disabled:t},u),v&&Jt()(l,(function(e,r){return!t&&!n||e.checked?o.createElement(nn,{key:e.id,item:e,disabled:n||t,setConjunction:i}):null})))}}])}(o.PureComponent),ln=n(47088),an=n(64608),on=n(75388),un=n(1470),cn=n(64502);function sn(e,t,n){return t=(0,O.A)(t),(0,x.A)(e,dn()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}function dn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dn=function(){return!!e})()}var pn=un.Ay.Button,fn=un.Ay.Group,mn=function(e){function t(){var e;(0,S.A)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=sn(this,t,[].concat(r))).onChange=function(t){(0,e.props.setValueSrc)(t.target.value)},e}return(0,R.A)(t,e),(0,k.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,n=e.valueSources,r=e.valueSrc,a=e.readonly,i=e.title,u=o.createElement(fn,{value:r||"value",size:t.settings.renderSize,onChange:this.onChange,disabled:a},n.map((function(e){var t=(0,l.A)(e,2),n=t[0],r=t[1];return o.createElement(pn,{key:n,value:n},r.label)})));return o.createElement("span",null,o.createElement(on.A,{content:u,title:i},o.createElement(cn.A,null)))}}])}(o.PureComponent),vn=n(62392).A.confirm;const gn={DateWidget:q,DateTimeWidget:$,TimeWidget:K,SelectWidget:oe,TextWidget:de,TextAreaWidget:ve,NumberWidget:be,SliderWidget:Se,RangeWidget:We,BooleanWidget:je,MultiSelectWidget:Ie,AutocompleteWidget:function(e){var t=e.config,n=e.placeholder,l=(e.allowCustomValues,e.customProps),a=e.value,i=e.readonly,u=e.multiple,c=e.useAsyncSearch,s=Ye(e,{debounceTimeout:100,multiple:u,uif:"antd"}),d=s.open,p=s.onDropdownVisibleChange,f=s.onChange,m=s.isSpecialValue,v=(s.onSearch,s.inputValue),g=s.options,h=(s.isInitialLoading,s.isLoading),y=s.aPlaceholder,b=s.extendOptions,E=s.getOptionDisabled,A=s.getOptionIsCustom,C=s.getOptionLabel,w=s.onInputChange,S=b(g),k=(0,o.useMemo)((function(){return S.reduce((function(e,t){return Math.max(e,Z(t.title,null))}),0)}),[g]),x=t.settings,O=x.defaultSelectWidth,R=(x.defaultSearchWidth,x.renderSize),W=Z(n),P=(u?null!=a&&a.length:a)?a:u?[]:void 0,V=P||!W?null:W+X,F=k&&!isNaN(k)?k+X:null,j=V||O,L=o.useRef(!1),T={width:u?void 0:j,minWidth:j},B={width:F},M=u?"multiple":void 0,D=i?"":y,I=function(e){var t=e.tooltip,n=C(e);return t&&(n=o.createElement(ze.A,{title:t},n)),n},N=function(e){var t=e;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(t=Ue(t));var n,r=[],l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw a}}}}(t);try{for(l.s();!(n=l.n()).done;){var a=n.value,o=a.groupTitle;if(delete a.groupTitle,o){a.grouplabel=o;var i=void 0,u=r[r.length-1];null!=u&&u.options&&u.label===o?i=u:(i={label:o,options:[]},r.push(i)),i.options.push(a)}else r.push(a)}}catch(e){l.e(e)}finally{l.f()}return r}(null==S?void 0:S.filter((function(e){return!e.specialValue})).map((function(e){return{label:A(e)?o.createElement("span",{className:"customSelectOption"},C(e)):I(e),value:e.value,groupTitle:e.groupTitle,disabled:E(e)}}))),q=null==S?void 0:S.filter((function(e){return!!e.specialValue})).map((function(e){return o.createElement("a",{style:{padding:"5px 10px",display:"block",cursor:"pointer"},key:e.specialValue,disabled:E(e),onClick:(t=e.specialValue,function(){var e=S.find((function(e){return e.specialValue==t}));f(null,t,e)})},C(e));var t})),z=function(){var e=(0,qe.A)(Ge().mark((function e(t,n){return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m(n)){e.next=5;break}return e.next=3,f(null,t,n);case 3:e.next=8;break;case 5:if(!u){e.next=8;break}return e.next=8,f(null,t,n);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=(0,qe.A)(Ge().mark((function e(t,n){var r,l;return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u&&t.length&&t.length>P.length&&t[t.length-1]==v,l=m(n)||"tags"===M&&r||L.current&&v,L.current=!1,l){e.next=6;break}return e.next=6,f(null,t,n);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=(0,qe.A)(Ge().mark((function e(t){return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L.current&&(L.current=!1),e.next=3,w(null,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=(0,o.useCallback)((function(e){return o.createElement("div",null,e,q.length>0&&o.createElement(o.Fragment,null,o.createElement(Ne.A,{style:{margin:"0px"}}),o.createElement("div",{style:{display:"flex",flexDirection:"column"}},q)))}),[S]),U=(0,o.useCallback)((function(e,n){return t.settings.listKeysForSearch.map((function(e){return He[e]})).map((function(e){return"string"==typeof n[e]?n[e]:""})).join("\0").toLowerCase().indexOf(e.toLowerCase())>=0}),[t]);return o.createElement(Q.A,(0,r.A)({filterOption:!c&&U,dropdownRender:$,allowClear:!0,notFoundContent:h?"Loading...":"Not found",disabled:i,mode:M,style:(null==l?void 0:l.style)||T,dropdownStyle:(null==l?void 0:l.dropdownStyle)||B,key:"widget-autocomplete",popupMatchSelectWidth:(null==l?void 0:l.popupMatchSelectWidth)||(null==l?void 0:l.dropdownMatchSelectWidth)||!1,placeholder:(null==l?void 0:l.placeholder)||D,onDropdownVisibleChange:p,onChange:_,onClear:function(){d&&(L.current=!0)},onSelect:z,onSearch:G,showSearch:!0,size:R,loading:h,value:P,searchValue:v,open:d,options:N},l))},TreeSelectWidget:dt,FieldSelect:gt,FieldDropdown:kt,FieldCascader:Lt,FieldTreeSelect:It,Icon:function(e){var t=e.type,n=$t[t]||null;return n||"drag"!==t||(n=o.createElement(Gt,null)),n},Button:function(e){var t=e.type,n=e.onClick,r=e.label,l=e.readonly,a=e.config.settings,i=e.renderIcon,u=a.renderSize,c=null==i?void 0:i({type:t,readonly:l}),s=Ut[t]?"":r;return o.createElement(yt.Ay,{danger:!0===Kt[t],key:t,type:Ht[t]||"default",icon:c,className:Yt[t],onClick:n,size:u,disabled:l},s)},ButtonGroup:function(e){var t=e.children,n=e.config.settings.renderSize;return o.createElement(Qt,{size:n},t)},Conjs:rn,Switch:function(e){var t=e.value,n=e.setValue,r=e.label,l=e.checkedLabel,a=e.hideLabel,i=e.id,u=e.config,c=e.type,s=u.settings.renderSize,d=(0,o.useCallback)((function(e){return n(e)}),[n]),p=(0,o.useCallback)((function(){return n(!t)}),[n,t]),f=c,m=a?null:t&&l||r;return"lock"===c?o.createElement(yt.Ay,{key:i+f,type:t?"danger":void 0,icon:t?o.createElement(ln.A,null):o.createElement(an.A,null),onClick:p,checked:!!t,size:s},m):o.createElement(Pe.A,{key:i+f,checkedChildren:l||r,unCheckedChildren:t&&l||r,onChange:d,checked:!!t,size:s})},ValueSources:mn,confirm:function(e){vn(e)},Provider:function(e){var t=e.config,n=e.children;return o.createElement(w.Ay,{locale:t.settings.locale.antd},n)}};function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bn=yn(yn({},i.d$.settings),{},{renderField:function(e,t){return(0,t.RCE)(t.W.FieldSelect,e)},renderOperator:function(e,t){return(0,t.RCE)(t.W.FieldSelect,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.FieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.Conjs,e)},renderSwitch:function(e,t){return(0,t.RCE)(t.W.Switch,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.Button,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.Icon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.ButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.ValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.ValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.Provider,e)},renderConfirm:function(e,t){return(0,t.W.confirm)(e)},locale:yn({},i.d$.settings.locale),removeInvalidMultiSelectValuesOnLoad:!1,normalizeListValues:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.utils.normalizeListValues).call.apply(e,[null].concat(n))}}),En=yn(yn({},i.d$.widgets),{},{text:yn(yn({},i.d$.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.TextWidget,e)}}),textarea:yn(yn({},i.d$.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.TextAreaWidget,e)}}),number:yn(yn({},i.d$.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.NumberWidget,e)}}),multiselect:yn(yn({},i.d$.widgets.multiselect),{},{factory:function(e,t){var n=t.RCE,r=t.W,l=r.AutocompleteWidget,a=r.MultiSelectWidget;return e.asyncFetch||e.showSearch?n(l,yn(yn({},e),{},{multiple:!0})):n(a,e)}}),select:yn(yn({},i.d$.widgets.select),{},{factory:function(e,t){var n=t.RCE,r=t.W,l=r.AutocompleteWidget,a=r.SelectWidget;return e.asyncFetch||e.showSearch?n(l,e):n(a,e)}}),slider:yn(yn({},i.d$.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.SliderWidget,e)}}),boolean:yn(yn({},i.d$.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.BooleanWidget,e)}}),date:yn(yn({},i.d$.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.DateWidget,e)}}),time:yn(yn({},i.d$.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.TimeWidget,e)}}),datetime:yn(yn({},i.d$.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.DateTimeWidget,e)}}),rangeslider:yn(yn({},i.d$.widgets.rangeslider),{},{factory:function(e,t){return(0,t.RCE)(t.W.RangeWidget,e)}}),treeselect:yn(yn({},i.d$.widgets.treeselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.TreeSelectWidget,e)}}),treemultiselect:yn(yn({},i.d$.widgets.treemultiselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.TreeSelectWidget,yn(yn({},e),{},{treeMultiple:!0}))}})}),An=yn({},i.d$.types),Cn=yn(yn({},i.d$.ctx),{},{utils:yn(yn({},i.d$.ctx.utils),{},{normalizeListValues:function(e,t,n){var r=["treeselect","treemultiselect"].includes(t),l=["multiselect","treemultiselect"].includes(t);return r&&(e=function(e,t,n){var r,l=Xe(e);try{for(l.s();!(r=l.n()).done;){var a=r.value;if(a.path=rt(e,a.value),0!=t.treeSelectOnlyLeafs){var o=lt(e,a.value);n||(a.selectable=0==o.length)}}}catch(e){l.e(e)}finally{l.f()}return e}(e=function(e){var t,n,r,l=nt,a=function e(r,a,o){if(r.children){1==o&&(r[l.pId]=l.rootPId);var i,u=r.children.length,c=Xe(r.children);try{for(c.s();!(i=c.n()).done;){var s=i.value;s[l.pId]=r[l.id],t++,a.splice(t,0,s),n++,e(s,a,o+1)}}catch(e){c.e(e)}finally{c.f()}delete r.children,0==u&&(a.splice(t,1),t--,n--)}};if(Array.isArray(e))for(n=e.length,t=0;t<n;t++){var o=e[t];r=o,"object"==(0,Qe.A)(r)&&null!==r&&(void 0!==o[l.pId]&&o[l.pId]!=l.rootPId||a(o,e,1))}return e}(e=tt(e)),n,l)),e}}),W:yn(yn({},i.d$.ctx.W),gn)}),wn=yn(yn({},i.d$),{},{ctx:Cn,types:An,widgets:En,settings:bn});const Sn=wn=i.Aq.ConfigMixins.addMixins(wn,["rangeslider","treeselect","treemultiselect","rangeable__date"]);var kn=n(97163),xn=n(95957),On=n(65861),Rn=n(76147),Wn=n(79040),Pn=n(6277),Vn=n(32861),Fn=n(60169),jn=n(34982),Ln=n(77421),Tn=n(12543),Bn=n(98697),Mn=n(97306),Dn=i.Aq.ListUtils.mapListValues,In=n(63326),Nn=["width"],qn=["width"],zn=n(51343),_n=n(20327),Gn=n(5721),$n=n(25856),Un=n(91043),Yn=i.Aq.ListUtils.mapListValues,Hn=n(87050),Kn=n(25775),Qn=n(2455),Xn=n(30460),Jn=n(62649),Zn=n(17337),er=n(49159),tr=n(93755),nr=["width"];function rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ar=i.Rj.W,or=o.createElement(er.A,{fontSize:"small",style:{marginRight:10,marginTop:4}}),ir=o.createElement(tr.A,{fontSize:"small",style:{marginRight:10,marginTop:4}}),ur=[];const cr=function(e){var t=e.allowCustomValues,n=e.multiple,l=e.disableClearable,a=e.value,i=e.customProps,u=e.readonly,c=e.config,s=e.filterOptionsConfig,d=e.errorText,p={stringify:(0,o.useCallback)((function(e){return c.settings.listKeysForSearch.map((function(t){return"string"==typeof e[t]?e[t]:""})).join("\0")}),[c])},f=(0,Hn.Z)(s||p),m=ar(e,{debounceTimeout:100,multiple:n,uif:"mui"}),g=m.open,h=m.onOpen,y=m.onClose,b=m.onChange,E=m.onInputChange,A=m.inputValue,C=m.options,w=m.isInitialLoading,S=m.isLoading,k=m.aPlaceholder,x=m.extendOptions,O=m.getOptionSelected,R=m.getOptionDisabled,W=m.getOptionIsCustom,P=m.getOptionLabel,V=m.selectedListValue,F=c.settings,j=F.defaultSelectWidth,L=F.defaultSearchWidth,T=i||{},B=T.width,M=(0,Ae.A)(T,nr),D=M.input||{},I=D.width||L;D=v()(D,["width"]);var N=v()(M,["showSearch","showCheckboxes"]),q=!0,z=B||j,_={width:n?void 0:z,minWidth:z},G=u?"":k,$=G||c.settings.fieldPlaceholder,U=null!=a?a:n?ur:null,Y=(0,Zn.A)((function(e){return{input:{minWidth:I+" !important"}}})),H=(0,Zn.A)((function(e){return{root:{height:"auto"},label:{marginTop:"3px",marginBottom:"3px"}}}))(),K=Y();return o.createElement(Fn.A,{fullWidth:q},o.createElement(Kn.Ay,(0,r.A)({disableClearable:l,disableCloseOnSelect:n,fullWidth:q,multiple:n,style:_,classes:K,freeSolo:t,loading:w,open:g,onOpen:h,onClose:y,inputValue:A,onInputChange:E,label:G,onChange:b,value:U,getOptionSelected:O,disabled:u,readOnly:u,options:C,groupBy:function(e){return null==e?void 0:e.groupTitle},getOptionLabel:P,getOptionDisabled:R,renderInput:function(e){var t,l=!n&&!g,a=null!==(t=null==V?void 0:V.title)&&void 0!==t?t:"",i=l?a:n&&!g?"":null!=A?A:"";return o.createElement(Vn.A,(0,r.A)({},e,{inputProps:lr(lr({},e.inputProps),{},{value:i,"aria-label":$}),InputProps:lr(lr({},e.InputProps),{},{readOnly:u,endAdornment:o.createElement(o.Fragment,null,S?o.createElement(Qn.A,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}),disabled:u,placeholder:G,"aria-label":G,error:!!d},D))},renderTags:function(e,t){return e.map((function(e,n){var l=W(e)?"customSelectOption":void 0,a=o.createElement("span",{className:l},P(e));return o.createElement(Xn.A,(0,r.A)({key:e.value,classes:H,label:a,size:"small"},t({index:n})))}))},renderOption:function(e,t){var r=t.selected,l=e.title,a=e.renderTitle,i=(e.value,e.specialValue),u=e.isHidden,c=W(e)?"customSelectOption":void 0,s=o.createElement("span",{className:c},a||l);return u?null:n?i?o.createElement(Jn.A,null,a||l):o.createElement(Jn.A,null,r?ir:or,s):i?o.createElement(o.Fragment,null,a||l):o.createElement(o.Fragment,null,s)},filterOptions:function(e,t){var n=f(e,t);return x(n)}},N)))};var sr=n(89881),dr=["items","selectedKey","setField","isValueField"];function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mr={key:"_value2",path:"value",label:"title",altLabel:"_altLabel",tooltip:"tooltip",grouplabel:"groupTitle"},vr=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map((function(t){var r=t.items,l=t.path,a=t.key,i=t.label,u=t.altLabel,c=t.disabled,s=t.grouplabel,d=t.matchesType,p=t.tooltip,f="  ".repeat(n);return r?e(r,n+1):{title:i,renderTitle:d?o.createElement("b",null,f+i):f+i,value:l,disabled:c,groupTitle:n>0?f+s:null,tooltip:p,_value2:a,_altLabel:u}})).flat(1/0)},gr=function(e,t){var n=e.items,r=e.selectedKey,l=e.setField,a=e.isValueField,i=(0,Ae.A)(e,dr),u=vr(n),c=r,s={stringify:(0,o.useCallback)((function(e){return t.settings.fieldItemKeysForSearch.map((function(e){return mr[e]})).map((function(t){return"string"==typeof e[t]?e[t]:""})).join("\0")}),[t])};return fr(fr({},i),{},{listValues:u,setValue:function(e,t){if(e||a)return l(e)},filterOptionsConfig:s,allowCustomValues:!1,multiple:!1,disableClearable:!a,value:c,isFieldAutocomplete:!0})},hr=n(81553),yr=n(14143),br=n(38314),Er=n(27553),Ar=i.Aq.DragIcon,Cr={delGroup:o.createElement(hr.A,null),delRuleGroup:o.createElement(hr.A,null),delRule:o.createElement(hr.A,null),addRuleGroup:o.createElement(yr.A,null),addRuleGroupExt:o.createElement(yr.A,null),addRule:o.createElement(yr.A,null),addGroup:o.createElement(yr.A,null),drag:o.createElement(br.A,null)},wr={drag:"inherit"},Sr=n(41639),kr=n(77545),xr={addRuleGroup:!0,addRuleGroupExt:!0,delGroup:!0,delRuleGroup:!0,delRule:!0},Or={addRule:"primary",addGroup:"primary",delGroup:"secondary",delRuleGroup:"secondary",delRule:"secondary"},Rr=n(88393),Wr=n(15481),Pr=n(1009),Vr=n(30089),Fr=n(17827),jr=n(71773),Lr=n(68417),Tr=n(42151),Br=n(5429),Mr=(0,Zn.A)((function(e){return{paper:{padding:e.spacing(1)}}}));const Dr={MaterialTextWidget:function(e){var t=e.value,n=e.setValue,l=(e.config,e.readonly),a=e.placeholder,i=e.customProps,u=e.maxLength,c=t||"";return o.createElement(Fn.A,null,o.createElement(Vn.A,(0,r.A)({value:c,placeholder:l?"":a,InputProps:{readOnly:l},inputProps:{maxLength:u},disabled:l,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),n(t)}},i)))},MaterialTextAreaWidget:function(e){var t=e.value,n=e.setValue,l=e.config,a=e.readonly,i=e.placeholder,u=e.customProps,c=e.maxLength,s=e.maxRows,d=e.fullWidth,p=l.settings.defaultMaxRows,f=t||"";return o.createElement(Fn.A,{fullWidth:d},o.createElement(Vn.A,(0,r.A)({fullWidth:d,maxRows:s||p,multiline:!0,value:f,placeholder:a?"":i,InputProps:{readOnly:a},inputProps:{maxLength:c},disabled:a,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),n(t)}},u)))},MaterialDateWidget:function(e){var t,n,l,a=e.value,i=e.setValue,u=e.readonly,c=e.customProps,s=e.dateFormat,d=e.valueFormat,p=e.placeholder,f=(null!==(t=window)&&void 0!==t&&t.matchMedia?null===(n=(l=window).matchMedia)||void 0===n?void 0:n.call(l,"(pointer:fine), (pointer:none)").matches:e.useKeyboard)?jn.s:jn.l;return o.createElement(Fn.A,null,o.createElement(f,(0,r.A)({readOnly:u,disabled:u,placeholder:u?"":p,format:s,value:a||null,onChange:function(e){i(function(e){return e&&e.isValid()?e.format(d):void 0}(e))}},c)))},MaterialDateTimeWidget:function(e){var t,n,l,a=e.value,i=e.setValue,u=e.use12Hours,c=e.readonly,s=e.placeholder,d=e.dateFormat,p=e.timeFormat,f=e.valueFormat,m=e.customProps,v=(null!==(t=window)&&void 0!==t&&t.matchMedia?null===(n=(l=window).matchMedia)||void 0===n?void 0:n.call(l,"(pointer:fine), (pointer:none)").matches:e.useKeyboard)?Ln.d:Ln.K,g=d+" "+p;return o.createElement(Fn.A,null,o.createElement(v,(0,r.A)({readOnly:c,disabled:c,ampm:!!u,placeholder:c?"":s,format:g,value:a||null,onChange:function(e){i(function(e){return e&&e.isValid()?e.format(f):void 0}(e))}},m)))},MaterialTimeWidget:function(e){var t,n,l,a=e.value,i=e.setValue,u=e.use12Hours,c=e.readonly,s=e.placeholder,d=e.timeFormat,p=e.valueFormat,f=e.customProps,m=(null!==(t=window)&&void 0!==t&&t.matchMedia?null===(n=(l=window).matchMedia)||void 0===n?void 0:n.call(l,"(pointer:fine), (pointer:none)").matches:e.useKeyboard)?Tn.n:Tn.A,v=-1!=d.indexOf(":ss"),g=a?b()(a,d):null;return o.createElement(Fn.A,null,o.createElement(m,(0,r.A)({readOnly:c,disabled:c,ampm:!!u,placeholder:c?"":s,format:d,value:g||null,onChange:function(e){i(function(e){return e&&e.isValid()?e.format(p):void 0}(e))},views:v?["hours","minutes","seconds"]:["hours","minutes"]},f)))},MaterialSelectWidget:function(e){var t=e.listValues,n=e.value,l=e.setValue,a=(e.allowCustomValues,e.readonly),i=e.placeholder,u=e.customProps,c=null!=n;return o.createElement(Fn.A,null,o.createElement(Bn.A,(0,r.A)({autoWidth:!0,displayEmpty:!0,label:a?"":i,onChange:function(e){void 0!==e.target.value&&l(e.target.value)},value:c?n:"",disabled:a,readOnly:a,renderValue:function(e){return a||null!=e?function(e){return Dn(t,(function(t){var n=t.title;return t.value===e?n:null})).filter((function(e){return null!==e})).shift()}(e):i}},v()(u,["showSearch","input"])),Dn(t,(function(e){var t=e.title,n=e.value;return o.createElement(Mn.A,{key:n,value:n},t)}))))},MaterialNumberWidget:function(e){var t=e.value,n=e.setValue,l=(e.config,e.readonly),a=e.min,i=e.max,u=e.step,c=e.placeholder,s=e.customProps,d=null==t?"":t;return o.createElement(Fn.A,null,o.createElement(Vn.A,(0,r.A)({type:"number",value:d,placeholder:l?"":c,InputProps:{readOnly:l},inputProps:{min:a,max:i,step:u},disabled:l,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),n(t)}},s)))},MaterialSliderWidget:function(e){var t=e.config,n=e.placeholder,l=e.customProps,a=e.value,i=e.setValue,u=e.min,c=e.max,s=e.step,d=e.marks,p=e.readonly,f=t.settings.defaultSliderWidth,m=l||{},v=m.width,g=(0,Ae.A)(m,Nn),h=g.input||{},y=g.slider||g,b="number"==typeof a?a:"",E="number"==typeof a?a:null,A=!!d&&Object.keys(d).map((function(e){return{value:e,label:d[e]}})),C=o.createElement(Vn.A,(0,r.A)({type:"number",value:b,placeholder:n,InputProps:{readOnly:p},inputProps:{min:u,max:c,step:s},disabled:p,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),i(t)},onBlur:function(){a<u?i(u):a>c&&i(c)}},h)),w=o.createElement(In.A,(0,r.A)({value:E,onChange:function(e,t){i(t)},disabled:p,min:u,max:c,step:s,marks:A,valueLabelDisplay:"auto"},y)),S={marginLeft:"5px",paddingLeft:"12px",marginBottom:A&&"-16px",width:v||f};return o.createElement(Fn.A,null,o.createElement("div",{style:{display:"inline-flex",alignItems:"center",flexWrap:"wrap"}},o.createElement("div",{style:{marginLeft:"5px"}},C),o.createElement("div",{style:S},w)))},MaterialRangeWidget:function(e){var t=e.config,n=e.placeholders,a=e.customProps,i=e.value,u=e.setValue,c=e.min,s=e.max,d=e.step,p=e.marks,f=e.readonly,m=e.textSeparators,v=t.settings.defaultSliderWidth;(0,o.useEffect)((function(){var t=e.value||[void 0,void 0],n=(0,l.A)(t,2);n[0],n[1],e.value}),[]);var g=function(){i&&(i[0]<c?u([c,i[1]]):i[1]>s&&u([i[0],s]))},h=a||{},y=h.width,b=(0,Ae.A)(h,qn),E=b.input||{},A=b.slider||b,C=!!p&&Object.keys(p).map((function(e){return{value:e,label:p[e]}})),w=i?(0,ke.A)(i):[void 0,void 0],S=(0,l.A)(w,2),k=S[0],x=S[1];null==k&&(k="",w[0]=0),null==x&&(x="",w[1]=0);var O=o.createElement(Vn.A,(0,r.A)({type:"number",value:k,placeholder:n[0],InputProps:{readOnly:f},inputProps:{min:c,max:s,step:d},disabled:f,onChange:function(t){var n=t.target.value;n=""===n||null==n?void 0:Number(n);var r=e.value?(0,ke.A)(e.value):[void 0,void 0];r[0]=n,u(r)},onBlur:g},E)),R=o.createElement(Vn.A,(0,r.A)({type:"number",value:x,placeholder:n[1],InputProps:{readOnly:f},inputProps:{min:c,max:s,step:d},disabled:f,onChange:function(t){var n=t.target.value;n=""===n||null==n?void 0:Number(n);var r=e.value?(0,ke.A)(e.value):[void 0,void 0];r[1]=n,u(r)},onBlur:g},E)),W=o.createElement(In.A,(0,r.A)({value:w,onChange:function(e,t){u(t)},disabled:f,min:c,max:s,step:d,marks:C,valueLabelDisplay:"auto"},A)),P={marginLeft:"5px"},V={marginLeft:"5px",paddingLeft:"12px",marginBottom:C&&"-16px",width:y||v};return o.createElement(Fn.A,null,o.createElement("div",{style:{display:"inline-flex",flexWrap:"wrap"}},o.createElement("div",{style:P},O),o.createElement("div",{className:"widget--sep"},o.createElement("span",null,m[1])),o.createElement("div",{style:P},R),o.createElement("div",{style:V},W)))},MaterialBooleanWidget:function(e){var t=e.customProps,n=e.value,l=e.setValue,a=e.labelYes,i=e.labelNo,u=e.readonly;return o.createElement(Fn.A,null,o.createElement(Gn.A,{component:"div"},o.createElement(_n.A,{component:"label",container:!0,alignItems:"center",spacing:0},o.createElement(_n.A,{item:!0,component:"span"},i),o.createElement(_n.A,{item:!0,component:"span"},o.createElement(zn.A,(0,r.A)({checked:!!n,onChange:function(){l(!n)},disabled:u},t))),o.createElement(_n.A,{item:!0,component:"span"},a))))},MaterialMultiSelectWidget:function(e){var t,n=e.listValues,l=e.value,a=e.setValue,i=(e.allowCustomValues,e.readonly),u=e.placeholder,c=e.customProps,s=null!=l&&l.length>0;return o.createElement(Fn.A,null,o.createElement(Bn.A,(0,r.A)({multiple:!0,autoWidth:!0,displayEmpty:!0,label:i?"":u,onChange:function(e){void 0!==e.target.value&&a(e.target.value)},value:s?l:[],disabled:i,readOnly:i,renderValue:function(e){if(!i&&!e.length)return u;var t=Yn(n,(function(t){var n=t.title,r=t.value;return e.indexOf(r)>-1?n:null})).filter((function(e){return null!==e}));return t.join(", ")}},v()(c,["showSearch","input","showCheckboxes"])),(t=s?l:[],Yn(n,(function(e){var n=e.title,r=e.value;return o.createElement(Mn.A,{key:r,value:r},o.createElement($n.A,{checked:t.indexOf(r)>-1}),o.createElement(Un.A,{primary:n}))})))))},MaterialAutocompleteWidget:cr,MaterialFieldSelect:function(e){var t=e.items,n=e.setField,r=e.selectedKey,l=e.readonly,a=e.placeholder,i=e.errorText,u=null!=r;return o.createElement(Fn.A,null,o.createElement(Bn.A,{error:!!i,autoWidth:!0,displayEmpty:!0,label:a,onChange:function(e){void 0!==e.target.value&&n(e.target.value)},value:u?r:"",disabled:l,renderValue:function(e){return l||e?function t(n){return n.map((function(n){return n.items?t(n.items):n.path===e?n.label:null}))}(t).filter((function(e){return Array.isArray(e)?e.some((function(e){return null!==e})):null!==e})).pop():a}},function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map((function(t){var r=t.items,l=t.path,a=t.label,i=t.disabled,u=t.matchesType,c="  ".repeat(n);return r?[o.createElement(sr.A,{disabled:i,key:l,disableSticky:!0},c&&o.createElement("span",null,c),a),e(r,n+1)]:o.createElement(Mn.A,{disabled:i,key:l,value:l},c&&o.createElement("span",null,c),u?o.createElement("b",null,a):a)}))}(t)))},MaterialFieldAutocomplete:function(e){return o.createElement(cr,gr(e,e.config))},MaterialIcon:function(e){var t=e.type,n=e.readonly,r=Cr[t]||null;return r||"drag"!==t?"drag"===t?o.createElement(Er.A,{size:"small",disabled:n,color:wr[t]},r):r:o.createElement(Ar,null)},MaterialButton:function(e){var t=e.type,n=e.label,r=e.onClick,l=e.readonly,a=e.renderIcon,i=null==a?void 0:a({type:t,readonly:l});return!n||xr[t]?o.createElement(kr.A,{size:"small",disabled:l,onClick:r,color:Or[t],"aria-label":n},i):o.createElement(Sr.A,{size:"small",disabled:l,onClick:r,color:Or[t],startIcon:i},n)},MaterialButtonGroup:function(e){var t=e.children;return e.config,o.createElement(o.Fragment,null,t)},MaterialConjs:function(e){var t=e.id,n=e.not,r=e.setNot,l=e.conjunctionOptions,a=e.setConjunction,i=e.disabled,u=e.readonly,c=e.config,s=e.showNot,d=e.notLabel,p=Object.keys(l).length,f=i,m=c.settings.forceShowConj||p>1&&!f,v=function(e){return a(e)};return o.createElement(Fn.A,null,o.createElement(Rr.A,{disableElevation:!0,variant:"contained",size:"small",disabled:u},s&&(u&&!n?null:o.createElement(Sr.A,{key:t,id:t+"__not",color:n?"secondary":"default",onClick:function(e){return r(e)}.bind(null,!n),disabled:u},d||"NOT")),m&&Object.keys(l).map((function(e){var t=l[e],n=t.id,r=(t.name,t.label),c=t.checked,s=a.isDummyFn?"__dummy":"";return!u&&!i||c?o.createElement(Sr.A,{key:n+s,id:n+s,color:c?"primary":"default",value:e,onClick:v.bind(null,e),disabled:u||i},r):null}))))},MaterialSwitch:function(e){var t=e.value,n=e.setValue,r=e.label,l=e.checkedLabel,a=e.hideLabel,i=e.id,u=e.config,c=e.type,s=(u.settings.renderSize,function(){return n(!t)}),d=c,p=t&&l||r,f=t?o.createElement(Vr.A,null):o.createElement(Pr.A,null);return"lock"==c?a?o.createElement(kr.A,{key:i+d,onClick:s,size:"small"},f):o.createElement(Sr.A,{key:i+d,onClick:s,size:"small",startIcon:f},p):o.createElement(Wr.A,{control:o.createElement(zn.A,{checked:!!t,size:"small",onChange:function(e){return n(e.target.checked)}}),label:p})},MaterialValueSources:function(e){var t=e.valueSources,n=e.valueSrc,r=e.title,a=e.setValueSrc,i=(e.readonly,o.useState(null)),u=(0,l.A)(i,2),c=u[0],s=u[1],d=Mr(),p=function(){s(null)},f=Boolean(c);return o.createElement("div",null,o.createElement(kr.A,{size:"small",onClick:function(e){c?p():function(e){s(e.currentTarget)}(e)}},o.createElement(Fr.A,null)),o.createElement(jr.Ay,{open:f,anchorEl:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:p,classes:{paper:d.paper},disablePortal:!0},o.createElement(Fn.A,{component:"fieldset"},o.createElement(Br.A,{component:"legend"},r),o.createElement(Tr.A,{value:n||"value",onChange:function(e){void 0!==e.target.value&&(a(e.target.value),p())}},function(e){return e.map((function(e){var t=(0,l.A)(e,2),r=t[0],a=t[1];return o.createElement(Wr.A,{key:r,value:r,checked:n==r||!n&&"value"==r,control:o.createElement(Lr.A,null),label:a.label})}))}(t)))))},MaterialConfirm:function(e){var t=e.onOk,n=e.okText,r=e.cancelText,l=e.title;(0,e.confirmFn)({description:l||"Are you sure?",title:null,confirmationText:n||"Ok",cancellationText:r||"Cancel"}).then(t).catch((function(){}))},MaterialUseConfirm:Rn.S,MaterialProvider:function(e){var t=e.config,n=e.children,r=t.settings.theme||{},l=t.settings.locale||{},a=r.material,i=l.material,u=a||i?(0,xn.A)(a,i):null,c=o.createElement("div",{className:"mui"},n),s=o.createElement(Wn.M,{utils:Pn.A},o.createElement(Rn.a,null,c));return u?o.createElement(On.A,{theme:u},s):s}};function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qr=Nr(Nr({},i.d$.settings),{},{renderField:function(e,t){var n,r=t.RCE,l=t.W,a=l.MaterialFieldAutocomplete,o=l.MaterialFieldSelect;return null!=e&&null!==(n=e.customProps)&&void 0!==n&&n.showSearch?r(a,e):r(o,e)},renderOperator:function(e,t){return(0,t.RCE)(t.W.MaterialFieldSelect,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.MaterialFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.MaterialConjs,e)},renderSwitch:function(e,t){return(0,t.RCE)(t.W.MaterialSwitch,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.MaterialButton,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.MaterialIcon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.MaterialButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.MaterialValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.MaterialValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.MaterialProvider,e)},renderConfirm:function(e,t){return(0,t.W.MaterialConfirm)(e)},useConfirm:function(e){return(0,e.W.MaterialUseConfirm)()}}),zr=Nr(Nr({},i.d$.widgets),{},{text:Nr(Nr({},i.d$.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialTextWidget,e)}}),textarea:Nr(Nr({},i.d$.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialTextAreaWidget,e)}}),number:Nr(Nr({},i.d$.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialNumberWidget,e)}}),multiselect:Nr(Nr({},i.d$.widgets.multiselect),{},{factory:function(e,t){var n=t.RCE,r=t.W,l=r.MaterialAutocompleteWidget,a=r.MaterialMultiSelectWidget;return e.asyncFetch||e.showSearch?n(l,Nr(Nr({},e),{},{multiple:!0})):n(a,e)}}),select:Nr(Nr({},i.d$.widgets.select),{},{factory:function(e,t){var n=t.RCE,r=t.W,l=r.MaterialAutocompleteWidget,a=r.MaterialSelectWidget;return e.asyncFetch||e.showSearch?n(l,e):n(a,e)}}),slider:Nr(Nr({},i.d$.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialSliderWidget,e)}}),boolean:Nr(Nr({},i.d$.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialBooleanWidget,e)}}),date:Nr(Nr({},i.d$.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialDateWidget,e)}}),time:Nr(Nr({},i.d$.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialTimeWidget,e)}}),datetime:Nr(Nr({},i.d$.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialDateTimeWidget,e)}}),rangeslider:Nr(Nr({},i.d$.widgets.rangeslider),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialRangeWidget,e)}})}),_r=Nr({},i.d$.types),Gr=Nr(Nr({},i.d$.ctx),{},{W:Nr(Nr({},i.d$.ctx.W),Dr)}),$r=Nr(Nr({},i.d$),{},{ctx:Gr,types:_r,widgets:zr,settings:qr});const Ur=$r=i.Aq.ConfigMixins.addMixins($r,["rangeslider"]);var Yr=n(76292),Hr=i.Aq.moment,Kr=n(72696),Qr=n(57971),Xr=n(75846),Jr=n(47203),Zr=i.Aq.ListUtils.mapListValues,el=n(90395),tl=n(77647),nl=n(45296),rl=n(64255),ll=i.Aq.uuid,al=i.Aq.ListUtils.mapListValues,ol=i.Aq.DragIcon,il={delGroup:rl.BeE,delRuleGroup:rl.BeE,delRule:rl.BeE,addRuleGroup:rl.QLR,addRuleGroupExt:rl.QLR,addRule:rl.QLR,addGroup:rl.QLR,drag:rl.t6y},ul={addRuleGroup:!0,delRuleGroup:!0,delRule:!0},cl={addRule:"primary",addGroup:"primary",delGroup:"danger",delRuleGroup:"danger",delRule:"danger"};const sl={BootstrapTextWidget:function(e){var t=e.value,n=e.setValue,r=(e.config,e.readonly),l=e.placeholder,a=e.maxLength,i=t||"";return o.createElement(Yr.A,{type:"text",bsSize:"sm",value:i,placeholder:l,disabled:r,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),n(t)},maxLength:a})},BootstrapTextAreaWidget:function(e){var t=e.value,n=e.setValue,r=(e.config,e.readonly),l=e.placeholder,a=e.maxLength,i=(e.maxRows,e.fullWidth),u=t||"";return o.createElement(Yr.A,{type:"textarea",bsSize:"sm",value:u,placeholder:l,disabled:r,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),n(t)},maxLength:a,style:{width:i?"100%":void 0}})},BootstrapDateWidget:function(e){var t=e.value,n=e.setValue,r=(e.config,e.valueFormat,e.readonly);return o.createElement(Yr.A,{type:"date",bsSize:"sm",value:t||"",disabled:r,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),n(t)}})},BootstrapDateTimeWidget:function(e){var t,n=e.value,r=e.setValue,l=(e.config,e.valueFormat),a=(e.use12Hours,e.readonly);return t=n?Hr(n).format("YYYY-MM-DDTHH:mm"):"",o.createElement(Yr.A,{type:"datetime-local",bsSize:"sm",value:t,disabled:a,onChange:function(e){var t=e.target.value;t=""==t?void 0:Hr(new Date(t)).format(l),r(t)}})},BootstrapTimeWidget:function(e){var t=e.value,n=e.setValue,r=(e.config,e.valueFormat,e.use12Hours,e.readonly);return o.createElement(Yr.A,{type:"time",bsSize:"sm",value:t||"",disabled:r,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),n(t)}})},BootstrapSelectWidget:function(e){var t=e.listValues,n=e.value,r=e.setValue,a=(e.allowCustomValues,e.readonly),i=e.placeholder,u=function(e){void 0!==e.target.value&&r(e.target.value)},c=null!=n,s=(0,o.useState)(!1),d=(0,l.A)(s,2),p=d[0],f=d[1];return o.createElement(Qr.A,{isOpen:p,onClick:function(){return f(!p)},disabled:a,toggle:function(){return f(!p)}},o.createElement(Xr.A,{tag:"button",className:"form-select",style:{lineHeight:"105%",minHeight:"1.7rem",paddingBottom:"0.45rem"},color:"transparent"},c?function(e){return a||null!=e?function(e){return Zr(t,(function(t){var n=t.title;return t.value===e?n:null})).filter((function(e){return null!==e})).shift()}(e):i}(n):o.createElement("span",null," ")),o.createElement(Jr.A,{container:"body",style:{}},!c&&o.createElement(Kr.A,{disabled:!0,value:""}),Zr(t,(function(e){var t=e.title,r=e.value;return o.createElement(Kr.A,{key:r,onClick:u,value:r,active:n==r},t)}))))},BootstrapNumberWidget:function(e){var t=e.value,n=e.setValue,r=(e.config,e.readonly),l=e.min,a=e.max,i=e.step,u=e.placeholder,c=null==t?"":t;return o.createElement(Yr.A,{type:"number",bsSize:"sm",value:c,placeholder:u,disabled:r,min:l,max:a,step:i,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),n(t)}})},BootstrapSliderWidget:function(e){var t=e.value,n=e.setValue,r=(e.config,e.readonly),l=e.min,a=e.max,i=e.step,u=e.placeholder,c=function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),n(t)},s=null==t?"":t;return o.createElement("div",{style:{display:"inline-flex",flexWrap:"wrap"}},o.createElement(Yr.A,{key:"number",bsSize:"sm",style:{marginLeft:"5px",display:"inline-flex",width:"auto"},type:"number",value:s,placeholder:u,disabled:r,min:l,max:a,step:i,onChange:c}),o.createElement(Yr.A,{key:"range",bsSize:"sm",style:{marginLeft:"5px",display:"inline-flex",width:"auto",minWidth:"150px"},type:"range",value:s,disabled:r,min:l,max:a,step:i,onChange:c}))},BootstrapBooleanWidget:function(e){var t=e.value,n=e.setValue,r=(e.config,e.labelYes,e.labelNo,e.readonly),l=function(e){return n("true"==e.target.value)},a=ll(),i=ll();return o.createElement(o.Fragment,null,o.createElement(el.A,null,o.createElement(tl.A,{id:a,value:!0,checked:!!t,disabled:r,color:!0===t?"success":"secondary",onClick:l,size:"sm"},o.createElement(nl.g,{icon:rl.e68})),o.createElement(tl.A,{id:i,value:!1,checked:!t,disabled:r,color:!1===t?"danger":"secondary",onClick:l,size:"sm"},o.createElement(nl.g,{icon:rl.GRI}))))},BootstrapMultiSelectWidget:function(e){var t=e.listValues,n=e.value,r=e.setValue,a=(e.allowCustomValues,e.placeholder),i=e.readonly,u=(0,o.useState)(!1),c=(0,l.A)(u,2),s=c[0],d=c[1],p=(0,o.useState)(null!=n?n:[]),f=(0,l.A)(p,2),m=f[0],v=f[1],g=function(e){var n=h(e.target.value,t);0==n.length&&(n=void 0),r(n)},h=function(e,t){if(!e)return m;var n=[];return m.includes(e)?(n=m.filter((function(t){return t!==e})),v(n)):(n=[].concat((0,ke.A)(m),[e]),v(n)),n};return o.createElement(Qr.A,{isOpen:s,onClick:function(){return d(!s)},disabled:i,toggle:function(){return d(!s)}},o.createElement(Xr.A,{tag:"button",className:"form-select",style:{lineHeight:"105%",minHeight:"1.7rem",paddingBottom:"0.45rem"},color:"transparent"},m.length?function(e){if(!i&&!e.length)return a;var n=al(t,(function(t){var n=t.title,r=t.value;return e.indexOf(r)>-1?n:null})).filter((function(e){return null!==e}));return n.join(", ")}(m):o.createElement("span",null," ")),o.createElement(Jr.A,{container:"body",style:{}},al(t,(function(e){var t=e.title,n=e.value;return o.createElement(Kr.A,{key:n,onClick:g,value:n,active:m.some((function(e){return e===n}))},t)}))))},BootstrapFieldSelect:function(e){var t,n=e.items,r=e.setField,a=e.selectedKey,i=e.readonly,u=e.placeholder,c=e.errorText,s=(0,o.useState)(!1),d=(0,l.A)(s,2),p=d[0],f=d[1],m=function(e){void 0!==e.target.value&&r(e.target.value)},v=null!=a;return o.createElement(Qr.A,{isOpen:p,onClick:function(){return f(!p)},disabled:i,toggle:function(){return f(!p)}},o.createElement(Xr.A,{tag:"button",className:"form-select",style:{lineHeight:"105%",minHeight:"1.7rem",paddingBottom:"0.45rem"},color:"transparent"},v?function(e,t){var n;return i||t?(null===(n=function e(n){for(var r in n){var l=n[r];if(l.path===t)return l;if(l.items){var a=e(l.items);if(a)return a}}}(e))||void 0===n?void 0:n.label)||t:u}(n,a):(t=u||c||"&nbsp;",c?o.createElement("span",{style:{color:"red"}},t):o.createElement("span",null,t))),o.createElement(Jr.A,{container:"body",style:{overflowY:"auto",maxHeight:"400px"}},!v&&o.createElement(Kr.A,{key:"body",disabled:!0,value:""}),function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object.keys(t).map((function(l){var i=t[l],u=i.items,c=i.path,s=i.label,d=i.disabled,p=i.matchesType,f=r>0?"  ".repeat(r):"",v=r>1?"  ".repeat(r-1):"";if(u)return o.createElement("div",{key:"dropdown-itemGroup-".concat(c)},o.createElement(Kr.A,{header:!0,key:"".concat(c,"-header"),onClick:m,value:c},f+s),e(u,!0,r+1));var g=p?o.createElement("b",null,v+s):v+s;return o.createElement(Kr.A,{disabled:d,key:c,onClick:m,value:c,className:n?"px-4":void 0,active:a==c},g)}))}(n)))},BootstrapIcon:function(e){var t=e.type,n=il[t]&&o.createElement(nl.g,{icon:il[t]})||null;return n||"drag"!==t||(n=o.createElement(ol,null)),n},BootstrapButton:function(e){var t=e.type,n=e.label,r=e.onClick,l=e.renderIcon,a=e.readonly,i=(null==l?void 0:l({type:t,readonly:a}))||null,u=ul[t]||!n;return r?o.createElement(tl.A,{size:"sm",color:cl[t],onClick:r},i,!u&&n):i},BootstrapButtonGroup:function(e){var t=e.children;return e.config,o.createElement(el.A,null,t)},BootstrapConjs:function(e){var t=e.id,n=e.not,r=e.setNot,l=e.conjunctionOptions,a=e.setConjunction,i=e.disabled,u=e.readonly,c=e.config,s=e.showNot,d=e.notLabel,p=Object.keys(l).length,f=i,m=c.settings.forceShowConj||p>1&&!f,v=function(e){return a(e)};return o.createElement(el.A,{size:"sm",disabled:u},s&&(u&&!n?null:o.createElement(tl.A,{key:t,id:t+"__not",size:"sm",color:n?"danger":"secondary",onClick:function(e){return r(e)}.bind(null,!n),disabled:u},d||"NOT")),m&&Object.keys(l).map((function(e){var t=l[e],n=t.id,r=(t.name,t.label),c=t.checked,s=a.isDummyFn?"__dummy":"";return!u&&!i||c?o.createElement(tl.A,{key:n+s,id:n+s,size:"sm",color:c?"primary":"secondary",value:e,onClick:v.bind(null,e),disabled:u||i},r):null})))},BootstrapValueSources:function(e){e.config;var t=e.valueSources,n=e.valueSrc,r=(e.title,e.setValueSrc),a=e.readonly,i=(0,o.useState)(!1),u=(0,l.A)(i,2),c=u[0],s=u[1],d=function(e){void 0!==e.target.value&&r(e.target.value)};return o.createElement(Qr.A,{isOpen:c,onClick:function(){return s(!c)},disabled:a,toggle:function(){return s(!c)}},o.createElement(Xr.A,{tag:"span",className:"btn",style:{lineHeight:"105%",minHeight:"1.7rem",paddingBottom:"0.45rem"},color:"transparent"},o.createElement(nl.g,{icon:rl.vaG})),o.createElement(Jr.A,{container:"body",style:{}},function(e){return e.map((function(e){var t=(0,l.A)(e,2),r=t[0],a=t[1];return o.createElement(Kr.A,{key:r,onClick:d,value:r,active:n==r},a.label||r)}))}(t)))},BootstrapConfirm:function(e){var t=e.onOk,n=(e.okText,e.cancelText,e.title);confirm(n)&&t()},BootstrapProvider:function(e){return e.config,e.children}};function dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dl(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fl=pl(pl({},i.d$.settings),{},{renderField:function(e,t){return(0,t.RCE)(t.W.BootstrapFieldSelect,e)},renderOperator:function(e,t){return(0,t.RCE)(t.W.BootstrapFieldSelect,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.BootstrapFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.BootstrapConjs,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.BootstrapButton,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.BootstrapIcon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.BootstrapButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.BootstrapValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.BootstrapValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.BootstrapProvider,e)},renderConfirm:function(e,t){return(0,t.W.BootstrapConfirm)(e)}}),ml=pl(pl({},i.d$.widgets),{},{text:pl(pl({},i.d$.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapTextWidget,e)}}),textarea:pl(pl({},i.d$.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapTextAreaWidget,e)}}),number:pl(pl({},i.d$.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapNumberWidget,e)}}),multiselect:pl(pl({},i.d$.widgets.multiselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapMultiSelectWidget,e)}}),select:pl(pl({},i.d$.widgets.select),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapSelectWidget,e)}}),slider:pl(pl({},i.d$.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapSliderWidget,e)}}),boolean:pl(pl({},i.d$.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapBooleanWidget,e)}}),date:pl(pl({},i.d$.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapDateWidget,e)}}),time:pl(pl({},i.d$.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapTimeWidget,e)}}),datetime:pl(pl({},i.d$.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapDateTimeWidget,e)}})}),vl=pl({},i.d$.types),gl=pl(pl({},i.d$.ctx),{},{W:pl(pl({},i.d$.ctx.W),sl)});const hl=pl(pl({},i.d$),{},{ctx:gl,types:vl,widgets:ml,settings:fl});var yl=n(14773),bl=n(68534);var El=n(44669),Al=i.Aq.moment,Cl=n(57336),wl=i.Aq.moment,Sl=i.Aq.moment,kl=n(35951),xl=i.Aq.ListUtils.mapListValues;var Ol=n(84034),Rl=["width"],Wl=n(91271);var Pl=i.Aq.ListUtils.mapListValues,Vl=n(71321);function Fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var jl=n(65577),Ll=i.Aq.DragIcon,Tl={addRuleGroup:"CirclePlus",addRuleGroupExt:"Add",addRule:"Add",addGroup:"CirclePlus",delGroup:"Delete",delRuleGroup:"Delete",delRule:"Delete",drag:"GripperBarHorizontal"};var Bl=n(93102),Ml=n(12971),Dl=n(15508),Il=n(74611),Nl={addRuleGroup:!0,delRuleGroup:!0,delRule:!0},ql={addRuleGroup:!0};(0,yl.v)();const zl={FluentUITextWidget:function(e){var t=e.value,n=e.setValue,r=e.readonly,l=e.placeholder,a=e.maxLength,i=t||"";return o.createElement(bl.A,{value:i,placeholder:l,disabled:r,onChange:function(e,t){""===t&&(t=void 0),n(t)},maxLength:a})},FluentUITextAreaWidget:function(e){var t=e.value,n=e.setValue,l=(e.config,e.readonly),a=e.placeholder,i=e.maxLength,u=e.maxRows,c=(e.fullWidth,e.customProps),s=t||"";return o.createElement(bl.A,(0,r.A)({readonly:l,multiline:!0,rows:u,maxLength:i,placeholder:a,value:s,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),n(t)}},c))},FluentUIDateWidget:function(e){var t=e.value,n=e.setValue,l=(e.config,e.valueFormat),a=e.dateFormat,i=e.readonly,u=e.customProps,c=e.placeholder,s=t?Al(t,l):void 0,d=s?s.toDate():void 0;return o.createElement(El.l,(0,r.A)({disabled:i,value:d,onSelectDate:function(e){(""==e||e instanceof Date&&isNaN(e))&&(e=void 0);var t=e?Al(e).format(l):void 0;n(t)},style:{marginRight:"0.25rem",width:"150px"},placeholder:c,formatDate:function(e){return Al(e).format(a)}},u))},FluentUIDateTimeWidget:function(e){var t=e.value,n=e.setValue,r=(e.config,e.valueFormat),a=e.dateFormat,i=(e.timeFormat,e.use12Hours),u=e.readonly,c=(e.customProps,t?wl(t,r):void 0),s=c?c.toDate():void 0,d=(0,o.useState)(s),p=(0,l.A)(d,2),f=p[0],m=p[1],v=-1!=r.indexOf(":ss");return o.createElement("div",{style:{display:"flex",flexDirection:"row"}},o.createElement(El.l,{disabled:u,value:s,formatDate:function(e){return wl(e).format(a)},onSelectDate:function(e){var t;if((""==e||e instanceof Date&&isNaN(e))&&(e=void 0),e){var l=wl(e);if(f){var a=wl(f);l.set("hour",a.get("hour")),l.set("minute",a.get("minute")),l.set("second",a.get("second"))}t=l.format(r)}t&&n(t)},style:{width:"150px"}}),o.createElement(Cl.A,{useHour12:i,value:f,showSeconds:v,disabled:u,onChange:function(e,t){var l;(""==t||t instanceof Date&&isNaN(t))&&(t=void 0),m(t);var a=t?wl(t):void 0;if(c){var o=wl(c);a&&(o.set("hour",a.get("hour")),o.set("minute",a.get("minute")),o.set("second",a.get("second"))),l=o.format(r)}l&&n(l)},useComboBoxAsMenuWidth:!0,style:{marginRight:"5px"}}))},FluentUITimeWidget:function(e){var t=e.value,n=e.setValue,l=(e.config,e.valueFormat),a=e.use12Hours,i=e.readonly,u=e.customProps,c=t?Sl(t,l):void 0,s=c?c.toDate():void 0,d=-1!=l.indexOf(":ss");return o.createElement(Cl.A,(0,r.A)({styles:{optionsContainerWrapper:{height:"500px"}},useHour12:a,onChange:function(e,t){(""==t||t instanceof Date&&isNaN(t))&&(t=void 0);var r=t?Sl(t).format(l):void 0;n(r)},disabled:i,allowFreeform:!0,showSeconds:d,value:s,useComboBoxAsMenuWidth:!0},u))},FluentUISelectWidget:function(e){var t,n=e.listValues,l=e.value,a=e.setValue,i=(e.allowCustomValues,e.readonly),u=e.customProps,c=e.placeholder;return o.createElement(kl.m,(0,r.A)({placeholder:c,options:(t=[],xl(n,(function(e){var n=e.title,r=e.value;t.push({key:r,text:n})})),t),selectedKey:l,onChange:function(e,t){void 0!==t.key&&a(t.key.toString())},dropdownWidth:"auto",disabled:i},u))},FluentUINumberWidget:function(e){var t=e.value,n=e.setValue,r=e.readonly,l=e.min,a=e.max,i=e.step,u=e.placeholder;return o.createElement(bl.A,{type:"number",value:t,placeholder:u,disabled:r,min:l,max:a,step:i,onChange:function(e,t){var r;r=""===t||null==t?void 0:Number.isInteger(i)?parseInt(t):parseFloat(t),n(r)}})},FluentUISliderWidget:function(e){var t=e.config,n=e.placeholder,l=e.customProps,a=e.value,i=e.setValue,u=e.min,c=e.max,s=e.step,d=e.marks,p=e.readonly,f=t.settings.defaultSliderWidth,m=l||{},v=m.width,g=(0,Ae.A)(m,Rl),h=g.input||{},y=g.slider||g,b=o.createElement(bl.A,(0,r.A)({type:"number",style:{width:"auto"},value:a,min:u,max:c,step:s,placeholder:n,disabled:p,onChange:function(e,t){t=""===t||null===t?void 0:Number(t),i(t)}},h)),E=o.createElement(Ol.A,(0,r.A)({min:u,max:c,step:s,value:a,disabled:p,marks:d,showValue:!1,onChange:function(e){e=""===e||null===e?void 0:Number(e),i(e)}},y)),A={width:v||f};return o.createElement("div",{style:{display:"flex",flexDirection:"row"}},b,o.createElement("div",{style:A},E))},FluentUIBooleanWidget:function(e){var t=e.value,n=e.setValue,r=e.labelYes,l=e.labelNo,a=e.readonly,i="string"==typeof r?r:"Yes",u="string"==typeof l?l:"No";return o.createElement(Wl.l,{disabled:a,onText:i,offText:u,onChange:function(){return n(!t)}})},FluentUIMultiSelectWidget:function(e){var t=e.listValues,n=e.value,r=e.setValue,a=(e.allowCustomValues,e.readonly),i=(e.customProps,e.placeholder),u=(0,o.useState)(null!=n?n:[]),c=(0,l.A)(u,2),s=c[0],d=c[1];return o.createElement(kl.m,{placeholder:i||"Select options",selectedKeys:s,onChange:function(e,t){t&&(d(t.selected?[].concat((0,ke.A)(s),[t.key]):s.filter((function(e){return e!==t.key}))),r(s))},multiSelect:!0,options:Pl(t,(function(e){var t=e.title;return{key:e.value,text:t}})),disabled:a})},FluentUIFieldSelect:function(e){var t=e.items,n=e.setField,r=e.selectedKey,l=e.placeholder,a=e.errorText;return o.createElement(kl.m,{placeholder:l,options:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],l=0;return Object.keys(t).map((function(a){var i={},u=t[a],c="  ".repeat(n),s=u.items,d=u.path,p=u.label,f=u.disabled;if(s){i.key=d,i.title=p,i.text=c+p,i.itemType=Vl.W.Header;var m=e(s,n+1);r.push(i);var v,g=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Fl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fl(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw a}}}}(m);try{for(g.s();!(v=g.n()).done;){var h=v.value;r.push(h)}}catch(e){g.e(e)}finally{g.f()}r.push({key:"divider_"+l.toString(),text:"-",title:"",itemType:Vl.W.Divider}),l+=1}else{var y=u.matchesType?o.createElement("b",null,c+p):c+p;i.key=d,i.title=p,i.text=y,i.disabled=f,r.push(i)}})),r}(t),selectedKey:r,onChange:function(e,t){void 0!==t.key&&n(t.key.toString())},onRenderTitle:function(e){var t=e[0];return o.createElement("div",null,o.createElement("span",null,t.title))},dropdownWidth:"auto",styles:{title:{color:a?"red":null}}})},FluentUIIcon:function(e){var t=e.type,n=e.readonly,r=e.renderBtn,l=e.renderDefaultButton;return Tl[t]||"drag"!==t?Tl[t]?r?r({iconProps:{iconName:Tl[t]}}):o.createElement(jl.I,{key:t,disabled:n,iconName:Tl[t],color:"primary"}):l({}):o.createElement(Ll,null)},FluentUIButton:function(e){var t=e.type,n=e.label,l=e.onClick,a=e.readonly,i=e.renderIcon;return null==i?void 0:i({type:t,readonly:a,renderBtn:!n||Nl[t]?function(e){return o.createElement(Bl.K,(0,r.A)({key:t,onClick:l,disabled:a,color:"primary"},e))}:ql[t]?function(e){return o.createElement(Ml.r,(0,r.A)({key:t,onClick:l,disabled:a,text:n},e))}:function(e){return o.createElement(Dl.z,(0,r.A)({key:t,onClick:l,disabled:a,text:n,color:"primary",styles:{root:{backgroundColor:"transparent"}}},e))},renderDefaultButton:function(e){return o.createElement(Il.Y,(0,r.A)({key:t,onClick:l,disabled:a,text:n,color:"primary"},e))}})},FluentUIButtonGroup:function(e){var t=e.children;return e.config,o.createElement(o.Fragment,null,t)},FluentUIConjs:function(e){var t=e.id,n=e.not,r=e.setNot,l=e.conjunctionOptions,a=e.setConjunction,i=e.disabled,u=e.readonly,c=e.config,s=e.showNot,d=e.notLabel,p=Object.keys(l).length,f=i,m=c.settings.forceShowConj||p>1&&!f,v={backgroundColor:n?"#fed9cc":"#ffffff"},g=function(e){return a(e)};return o.createElement(o.Fragment,null,s&&(u&&!n?null:o.createElement(Il.Y,{toggle:r,checked:n,key:t,id:t+"__not",onClick:function(e){return r(e)}.bind(null,!n),disabled:u,text:d||"NOT",style:v})),m&&Object.keys(l).map((function(e){var t=l[e],n=t.id,r=(t.name,t.label),c=t.checked,s=a.isDummyFn?"__dummy":"";return!u&&!i||c?o.createElement(Il.Y,{toggle:a,checked:c,key:n+s,id:n+s,value:e,onClick:g.bind(null,e),disabled:u||i,text:r}):null})))},FluentUIValueSources:function(e){e.config;var t=e.valueSources,n=e.valueSrc,r=(e.title,e.setValueSrc),a=(e.readonly,function(e,t){null!=t&&t.key&&r(t.key)});return o.createElement(Bl.K,{menuProps:function(e){var t=[];return e.map((function(e){var r=(0,l.A)(e,2),a=r[0],o=r[1];return t.push({key:a,text:o.label,checked:n==a||!n&&"value"==a,canCheck:!0})})),{onItemClick:a,items:t}}(t),text:"here",title:"ValueSource",onChange:a,iconProps:{iconName:"ChevronRight"},onRenderMenuIcon:function(){return o.createElement("div",null)}})},FluentUIConfirm:function(e){var t=e.onOk,n=(e.okText,e.cancelText,e.title);confirm(n)&&t()},FluentUIProvider:function(e){return e.config,e.children}};function _l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_l(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $l=Gl(Gl({},i.d$.settings),{},{renderField:function(e,t){return(0,t.RCE)(t.W.FluentUIFieldSelect,e)},renderOperator:function(e,t){return(0,t.RCE)(t.W.FluentUIFieldSelect,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.FluentUIFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.FluentUIConjs,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.FluentUIButton,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.FluentUIIcon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.FluentUIButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.FluentUIValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.FluentUIValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.FluentUIProvider,e)},renderConfirm:function(e,t){return(0,t.W.FluentUIConfirm)(e)}}),Ul=Gl(Gl({},i.d$.widgets),{},{text:Gl(Gl({},i.d$.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUITextWidget,e)}}),textarea:Gl(Gl({},i.d$.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUITextAreaWidget,e)}}),number:Gl(Gl({},i.d$.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUINumberWidget,e)}}),multiselect:Gl(Gl({},i.d$.widgets.multiselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUIMultiSelectWidget,e)}}),select:Gl(Gl({},i.d$.widgets.select),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUISelectWidget,e)}}),slider:Gl(Gl({},i.d$.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUISliderWidget,e)}}),boolean:Gl(Gl({},i.d$.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUIBooleanWidget,e)}}),date:Gl(Gl({},i.d$.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUIDateWidget,e)}}),time:Gl(Gl({},i.d$.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUITimeWidget,e)}}),datetime:Gl(Gl({},i.d$.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUIDateTimeWidget,e)}})}),Yl=Gl({},i.d$.types),Hl=Gl(Gl({},i.d$.ctx),{},{W:Gl(Gl({},i.d$.ctx.W),zl)});const Kl=Gl(Gl({},i.d$),{},{ctx:Hl,types:Yl,widgets:Ul,settings:$l});function Ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ql(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ql(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jl=i.Aq.Autocomplete.simulateAsyncFetch,Zl={vanilla:i.d$,antd:Sn,material:Ur,mui:kn.WQ,bootstrap:hl,fluent:Kl};const ea=function(e){var t=Zl[e],n=Jl([{title:"A",value:"a"},{title:"AA",value:"aa"},{title:"AAA1",value:"aaa1"},{title:"AAA2",value:"aaa2"},{title:"B",value:"b"},{title:"C",value:"c"},{title:"D",value:"d"},{title:"E",value:"e"},{title:"F",value:"f"},{title:"G",value:"g"},{title:"H",value:"h"},{title:"I",value:"i"},{title:"J",value:"j"}],3),r=Xl({},t.conjunctions),l=Xl(Xl({},t.operators.proximity),{},{valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],options:Xl(Xl({},t.operators.proximity.options),{},{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",minProximity:2,maxProximity:10,defaults:{proximity:2},customProps:{}})}),a=Xl(Xl({},t.operators),{},{proximity:l,between:Xl(Xl({},t.operators.between),{},{valueLabels:["Value from","Value to"],textSeparators:["from","to"]})}),u=Xl(Xl({},t.widgets),{},{text:Xl({},t.widgets.text),textarea:Xl(Xl({},t.widgets.textarea),{},{maxRows:3}),slider:Xl({},t.widgets.slider),rangeslider:Xl({},t.widgets.rangeslider),date:Xl(Xl({},t.widgets.date),{},{dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"}),time:Xl(Xl({},t.widgets.time),{},{timeFormat:"HH:mm",valueFormat:"HH:mm:ss"}),datetime:Xl(Xl({},t.widgets.datetime),{},{timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"}),func:Xl(Xl({},t.widgets.func),{},{customProps:{showSearch:!0}}),select:Xl({},t.widgets.select),multiselect:Xl(Xl({},t.widgets.multiselect),{},{customProps:{width:"200px",input:{width:"100px"}}}),treeselect:Xl(Xl({},t.widgets.treeselect),{},{customProps:{showSearch:!0}})}),c=Xl(Xl({},t.types),{},{text:Xl(Xl({},t.types.text),{},{excludeOperators:["proximity"]}),boolean:h()({},t.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"},opProps:{equal:{label:"is"},not_equal:{label:"is not"}}}}})}),s={locale:{moment:"ru",antd:E.A,material:A.Fc,mui:C.Fc},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",lockLabel:"Lock",lockedLabel:"Locked",deleteLabel:void 0,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:void 0,notLabel:"Not",fieldSourcesPopupTitle:"Select source",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger",cancelText:"Cancel"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger",cancelText:"Cancel"}},d=Xl(Xl(Xl({},t.settings),s),{},{defaultSliderWidth:"200px",defaultSelectWidth:"200px",defaultSearchWidth:"100px",defaultMaxRows:5,valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},fieldSources:["field","func"],keepInputOnChangeFieldSrc:!0,reverseOperatorsForNot:!1,canShortMongoQuery:!0,maxNesting:5,canLeaveEmptyGroup:!0,shouldCreateEmptyGroup:!1,showErrorMessage:!0,removeEmptyGroupsOnLoad:!1,removeEmptyRulesOnLoad:!1,removeIncompleteRulesOnLoad:!1,customFieldSelectProps:{showSearch:!0}}),p={user:{label:"User",tooltip:"Group of fields",type:"!struct",subfields:{firstName:{label2:"Username",type:"text",fieldSettings:{validateValue:function(e,t){return e.length<10}},mainWidgetProps:{valueLabel:"Name",valuePlaceholder:"Enter name"}},login:{type:"text",tableName:"t1",fieldSettings:{validateValue:function(e,t){return e.length<10&&(""===e||null!==e.match(/^[A-Za-z0-9_-]+$/))}},mainWidgetProps:{valueLabel:"Login",valuePlaceholder:"Enter login"}}}},bio:{label:"Bio",type:"text",preferWidgets:["textarea"],fieldSettings:{maxLength:1e3}},results:{label:"Results",type:"!group",subfields:{product:{type:"select",fieldSettings:{listValues:["abc","def","xyz"]},valueSources:["value"]},score:{type:"number",fieldSettings:{min:0,max:100},valueSources:["value"]}}},cars:{label:"Cars",type:"!group",mode:"array",conjunctions:["AND","OR"],showNot:!0,operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","some","all","none"],defaultOperator:"some",initialEmptyWhere:!0,fieldSettings:{validateValue:function(e){return e<10?null:{error:"Too many cars, see validateValue()",fixedValue:9}}},subfields:{vendor:{type:"select",fieldSettings:{listValues:["Ford","Toyota","Tesla"]},valueSources:["value"]},year:{type:"number",fieldSettings:{min:1990,max:2021},valueSources:["value"]}}},prox1:{label:"prox",tooltip:"Proximity search",type:"text",operators:["proximity"]},num:{label:"Number",type:"number",preferWidgets:["number"],fieldSettings:{min:-1,max:5},funcs:["number.LINEAR_REGRESSION"]},slider:{label:"Slider",type:"number",preferWidgets:["slider","rangeslider"],valueSources:["value","field"],fieldSettings:{min:0,max:100,step:1,marks:{0:o.createElement("strong",null,"0%"),100:o.createElement("strong",null,"100%")},validateValue:function(e,t){return e<50?null:{error:{key:"custom:INVALID_SLIDER_VALUE",args:{val:e}},fixedValue:49}}},widgets:{slider:{widgetProps:{valuePlaceholder:"..Slider"}},rangeslider:{widgetProps:{valueLabels:[{label:"Number from",placeholder:"from"},{label:"Number to",placeholder:"to"}]}}}},date:{label:"Date",type:"date",valueSources:["value"],fieldSettings:{dateFormat:"DD-MM-YYYY",validateValue:function(e,t){return b()(e,t.valueFormat).year()!=(new Date).getFullYear()?"Please use current year":null}}},time:{label:"Time",type:"time",valueSources:["value"],defaultOperator:"between"},datetime:{label:"DateTime",type:"datetime",valueSources:["value","func"]},datetime2:{label:"DateTime2",type:"datetime",valueSources:["field"]},color:{label:"Color",type:"select",valueSources:["value"],fieldSettings:{showSearch:!0,listValues:[{value:"yellow",title:"Yellow"},{value:"green",title:"Green"},{value:"orange",title:"Orange"}]}},color2:{label:"Color2",type:"select",fieldSettings:{listValues:{yellow:"Yellow",green:"Green",orange:"Orange",purple:"Purple"}}},multicolor:{label:"Colors",type:"multiselect",fieldSettings:{showSearch:!0,listValues:{yellow:"Yellow",green:"Green",orange:"Orange"},allowCustomValues:!0}},selecttree:{label:"Color (tree)",type:"treeselect",fieldSettings:{treeExpandAll:!0,treeValues:[{value:"1",title:"Warm colors"},{value:"2",title:"Red",parent:"1"},{value:"3",title:"Orange",parent:"1"},{value:"4",title:"Cool colors"},{value:"5",title:"Green",parent:"4"},{value:"6",title:"Blue",parent:"4"},{value:"7",title:"Sub blue",parent:"6"},{value:"8",title:"Sub sub blue and a long text",parent:"7"}]}},multiselecttree:{label:"Colors (tree)",type:"treemultiselect",fieldSettings:{treeExpandAll:!0,treeValues:[{value:"1",title:"Warm colors",children:[{value:"2",title:"Red"},{value:"3",title:"Orange"}]},{value:"4",title:"Cool colors",children:[{value:"5",title:"Green"},{value:"6",title:"Blue",children:[{value:"7",title:"Sub blue",children:[{value:"8",title:"Sub sub blue and a long text"}]}]}]}]}},autocomplete:{label:"Autocomplete",type:"select",valueSources:["value"],fieldSettings:{asyncFetch:n,useAsyncSearch:!0,useLoadMore:!0,forceAsyncSearch:!1,allowCustomValues:!1}},autocompleteMultiple:{label:"AutocompleteMultiple",type:"multiselect",valueSources:["value"],fieldSettings:{asyncFetch:n,useAsyncSearch:!0,useLoadMore:!0,forceAsyncSearch:!1,allowCustomValues:!1}},stock:{label:"In stock",type:"boolean",defaultValue:!0,mainWidgetProps:{labelYes:"+",labelNo:"-"}}},f={string:{type:"!struct",label:"String",tooltip:"String functions",subfields:{LOWER:h()({},i.uu.LOWER,{tooltip:"Convert to lower case",allowSelfNesting:!0,validateValue:function(e){return e.length<=7?null:{error:"bad len",fixedValue:e.substring(0,7)}},args:{str:{validateValue:function(e){return e.length<=7?null:{error:{key:"custom:BAD_LEN",args:{val:e}},fixedValue:e.substring(0,7)}}}}}),UPPER:h()({},i.uu.UPPER,{tooltip:"Convert to upper case",allowSelfNesting:!0,validateValue:function(e){return e.length<=6?null:{error:"bad len",fixedValue:e.substring(0,6)}},args:{str:{validateValue:function(e){return e.length<=6?null:{error:{key:"custom:BAD_LEN",args:{val:e}},fixedValue:e.substring(0,6)}}}}})}},date:{type:"!struct",label:"Date",subfields:{NOW:i.uu.NOW,RELATIVE_DATETIME:h()({},i.uu.RELATIVE_DATETIME,{args:{date:{defaultValue:{func:"date.NOW",args:[]}}}})}},number:{type:"!struct",label:"Number",subfields:{LINEAR_REGRESSION:i.uu.LINEAR_REGRESSION}}};return{ctx:t.ctx,conjunctions:r,operators:a,widgets:u,types:c,settings:d,fields:p,funcs:f}},ta={type:"group",id:"9a99988a-0123-4456-b89a-b1607f326fd8",children1:[{id:"a98ab9b9-cdef-4012-b456-71607f326fd9",type:"rule",properties:{field:"user.login",operator:"equal",value:[{func:"string.LOWER",args:{str:{valueSrc:"field",value:"user.firstName"}}}],valueSrc:["func"],valueType:["text"],valueError:[null]}},{id:"98a8a9ba-0123-4456-b89a-b16e721c8cd0",type:"rule",properties:{field:"stock",operator:"equal",value:[!1],valueSrc:["value"],valueType:["boolean"],valueError:[null]}},{id:"aabbab8a-cdef-4012-b456-716e85c65e9c",type:"rule",properties:{field:"slider",operator:"equal",value:[35],valueSrc:["value"],valueType:["number"],valueError:[null]}},{id:"aaab8999-cdef-4012-b456-71702cd50090",type:"rule_group",properties:{conjunction:"AND",field:"results"},children1:[{id:"99b8a8a8-89ab-4cde-b012-31702cd5078b",type:"rule",properties:{field:"results.product",operator:"select_equals",value:["abc"],valueSrc:["value"],valueType:["select"],valueError:[null]}},{id:"88b9bb89-4567-489a-bcde-f1702cd53266",type:"rule",properties:{field:"results.score",operator:"greater",value:[8],valueSrc:["value"],valueType:["number"],valueError:[null]}}]},{id:"a99a9b9b-cdef-4012-b456-7175a7d54553",type:"rule_group",properties:{mode:"array",operator:"greater",valueType:["number"],value:[2],valueSrc:["value"],conjunction:"AND",valueError:[null],field:"cars"},children1:[{id:"99a9a9a8-89ab-4cde-b012-3175a7d55374",type:"rule",properties:{field:"cars.vendor",operator:"select_equals",value:["Toyota"],valueSrc:["value"],valueError:[null],valueType:["select"]}},{id:"988bbbab-4567-489a-bcde-f175a7d58793",type:"rule",properties:{field:"cars.year",operator:"greater_or_equal",value:[2010],valueSrc:["value"],valueError:[null],valueType:["number"]}}]}],properties:{conjunction:"AND",not:!1}},na={and:[{"==":[{var:"user.login"},{toLowerCase:[{var:"user.firstName"}]}]},{"==":[{var:"stock"},!1]},{"==":[{var:"slider"},35]},{some:[{var:"results"},{and:[{"==":[{var:"product"},"abc"]},{">":[{var:"score"},8]}]}]},{">":[{reduce:[{filter:[{var:"cars"},{and:[{"==":[{var:"vendor"},"Toyota"]},{">=":[{var:"year"},2010]}]}]},{"+":[1,{var:"accumulator"}]},0]},2]}]};var ra=n(99804),la=n.n(ra);function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ia=i.Aq.getTree,ua=i.Aq.loadTree,ca=i.Aq.isValidTree,sa=i.Aq.validateTree,da=i.Aq.sanitizeTree,pa=i.Aq.uuid,fa=(i.Aq.loadFromJsonLogic,i.Aq.loadFromSpel),ma=i.Aq.jsonLogicFormat,va=i.Aq.elasticSearchFormat,ga=(i.Aq.queryBuilderFormat,i.Aq.queryString),ha=i.Aq._mongodbFormat,ya=i.Aq._sqlFormat,ba=i.Aq._spelFormat,Ea=JSON.stringify,Aa={backgroundColor:"darkgrey",margin:"10px",padding:"10px"},Ca={backgroundColor:"lightpink",margin:"10px",padding:"10px"},wa={translateErrors:!0,includeStringifiedItems:!0,includeItemsPositions:!0},Sa=window._initialSkin||"mui",ka={id:pa(),type:"group"},xa=ea(Sa),Oa=ta&&Object.keys(ta).length>0?ta:ka,Ra=(na&&Object.keys(na).length,ua(ka));Ra=ua(Oa);var Wa=da(Ra,xa,oa(oa({},wa),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1})),Pa=Wa.fixedTree,Va=Wa.fixedErrors,Fa=Wa.nonFixedErrors;Ra=Pa,Va.length&&console.warn("Fixed tree errors on load: ",Va),Fa.length&&console.warn("Validation errors on load:",Fa);var ja=new CustomEvent("update",{detail:{config:xa,_initTree:Ra,_initValue:Oa}});window.dispatchEvent(ja),i.Aq.i18n.addResources("en","custom",{INVALID_SLIDER_VALUE:"Invalid slider value {{val}} translated with i18next",BAD_LEN:"Bad length {{val}} translated with i18next"}),i.Aq.i18n.addResources("en","raqbvalidation",{INCOMPLETE_LHS:"Incomplete left-hand side",INCOMPLETE_RHS:"Incomplete right-hand side"});const La=function(){var e=(0,o.useRef)({}),t=(0,o.useState)({tree:Ra,config:xa,skin:Sa,spelStr:"",spelErrors:[],renderBocks:{validation:!0,jsonlogic:!0,elasticSearch:!0,mongo:!0,jsTree:!0,spel:!0,strings:!0,sql:!0,actions:!1,withProfile:!1,queryBuilder:!0}}),n=(0,l.A)(t,2),u=n[0],c=n[1];(0,o.useEffect)((function(){return window.addEventListener("update",s),function(){window.removeEventListener("update",s)}}));var s=function(e){var t=e.detail,n=t.config,r=t._initTree,l=t._initValue;console.log("Updating..."),c((function(e){return oa(oa({},e),{},{config:n})})),Ra=r,Oa=l},p=function(e){c(oa(oa({},u),{},{renderBocks:oa(oa({},u.renderBocks),{},(0,a.A)({},e,!u.renderBocks[e]))}))},m=(0,o.useCallback)((function(e){return o.createElement("div",{className:"query-builder-container",style:{padding:"10px"}},o.createElement("div",{className:"query-builder qb-lite"},o.createElement(i.M$,e)))}),[]),g=(0,o.useCallback)((function(t,n,r,l){r&&u.renderBocks.actions&&console.info(r),e.current.immutableTree=t,e.current.config=n,e.current.actions=l,h()}),[u.renderBocks]),h=f()((function(){c((function(t){return oa(oa({},t),{},{tree:e.current.immutableTree,config:e.current.config})}))}),100),y=function(){var t,n,r,l=[u.tree.get("id")],a=(null===(t=u.tree.get("children1"))||void 0===t?void 0:t.size)||0,o=null===(n=u.tree.get("children1"))||void 0===n?void 0:n.first(),c=null===(r=u.tree.get("children1"))||void 0===r?void 0:r.last(),s=[u.tree.get("id"),null==o?void 0:o.get("id")],d=[u.tree.get("id"),null==c?void 0:c.get("id")];e.current.actions.setNot(l,!0),e.current.actions.setConjunction(l,"OR"),a>1&&e.current.actions.moveItem(s,d,"before"),a&&"rule"===o.get("type")&&(e.current.actions.setFieldSrc(s,"field"),e.current.actions.setField(s,"num"),e.current.actions.setOperator(s,"between"),e.current.actions.setValueSrc(s,0,"value"),e.current.actions.setValue(s,0,2,"number"),e.current.actions.setValue(s,1,4,"number")),a>1&&e.current.actions.removeRule(d);var p=[u.tree.get("id"),i.Aq.uuid()];e.current.actions.addRule(l,{id:p[1],field:null,operator:null,value:[]}),e.current.actions.setFieldSrc(p,"func"),e.current.actions.setFuncValue(p,-1,[],null,"string.LOWER","string"),e.current.actions.setFuncValue(p,-1,[],"str","aaa","string"),e.current.actions.setValueSrc(p,0,"func"),e.current.actions.setFuncValue(p,0,[],null,"string.LOWER","string"),e.current.actions.setFuncValue(p,0,[],"str","AAA","string"),e.current.actions.addRule(l,{field:"user.login",operator:"equal",value:["denis"],valueSrc:["value"],valueType:["text"]}),e.current.actions.addRule(l,{field:"user.login",operator:"equal",value:["user.firstName"],valueSrc:["field"]}),e.current.actions.addRule(l,{field:"cars",mode:"array",operator:"all"},"rule_group",[{type:"rule",properties:{field:"cars.year",operator:"equal",value:[2021]}}]),e.current.actions.addGroup(l,{conjunction:"AND"},[{type:"rule",properties:{field:"slider",operator:"equal",value:[40]}},{type:"group",properties:{conjunction:"AND"},children1:[{type:"rule",properties:{field:"slider",operator:"less",value:[20]}}]}])};return o.createElement("div",null,o.createElement("div",null,"Settings:  ",o.createElement("select",{value:u.skin,onChange:function(e){var t=e.target.value,n=ea(e.target.value),r=da(u.tree,n,oa(oa({},wa),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1})),l=r.fixedTree,a=r.fixedErrors,o=r.nonFixedErrors;a.length&&console.warn("Fixed errors after change UI framework:",a),o.length&&console.warn("Not fixed errors after change UI framework:",o),c(oa(oa({},u),{},{skin:t,config:n,tree:l})),window._initialSkin=t}},o.createElement("option",{key:"vanilla"},"vanilla"),o.createElement("option",{key:"antd"},"antd"),o.createElement("option",{key:"material"},"material"),o.createElement("option",{key:"mui"},"mui"),o.createElement("option",{key:"bootstrap"},"bootstrap"),o.createElement("option",{key:"fluent"},"fluent"))," ",o.createElement("button",{onClick:function(){var e=la()(u.config);e.settings.showLock=!e.settings.showLock,c(oa(oa({},u),{},{config:e}))}},"show lock: ",u.config.settings.showLock?"on":"off"),o.createElement("button",{onClick:function(){var e=la()(u.config);e.settings.showErrorMessage=!e.settings.showErrorMessage,c(oa(oa({},u),{},{config:e}))}},"show errors: ",u.config.settings.showErrorMessage?"on":"off")),o.createElement("div",null,"Output:  ",o.createElement("button",{onClick:p.bind(null,"queryBuilder")},"Builder: ",u.renderBocks.queryBuilder?"on":"off"),o.createElement("button",{onClick:p.bind(null,"validation")},"Validation: ",u.renderBocks.validation?"on":"off"),o.createElement("button",{onClick:p.bind(null,"jsTree")},"Tree: ",u.renderBocks.jsTree?"on":"off"),o.createElement("button",{onClick:p.bind(null,"jsonlogic")},"JsonLogic: ",u.renderBocks.jsonlogic?"on":"off"),o.createElement("button",{onClick:p.bind(null,"spel")},"SpEL: ",u.renderBocks.spel?"on":"off"),o.createElement("button",{onClick:p.bind(null,"strings")},"Strings: ",u.renderBocks.strings?"on":"off"),o.createElement("button",{onClick:p.bind(null,"sql")},"SQL: ",u.renderBocks.sql?"on":"off"),o.createElement("button",{onClick:p.bind(null,"mongo")},"Mongo: ",u.renderBocks.mongo?"on":"off"),o.createElement("button",{onClick:p.bind(null,"elasticSearch")},"ElasticSearch: ",u.renderBocks.elasticSearch?"on":"off"),u.renderBocks.queryBuilder&&o.createElement("button",{onClick:p.bind(null,"actions")},"Actions in console: ",u.renderBocks.actions?"on":"off")),o.createElement("div",null,"Data:  ",o.createElement("button",{onClick:function(){c(oa(oa({},u),{},{tree:Ra}))}},"Reset"),o.createElement("button",{onClick:function(){c(oa(oa({},u),{},{tree:ua(ka)}))}},"Clear"),u.renderBocks.queryBuilder&&o.createElement("button",{onClick:y},"Run actions"),o.createElement("button",{onClick:function(){var t=e.current.config,n=oa(oa({},t),{},{fields:oa({},v()(t.fields,["num"]))});c((function(e){return oa(oa({},e),{},{config:n})}))}},"Change config: remove num field")),o.createElement("div",null,"Validation:  ",o.createElement("button",{onClick:function(){var e=sa(u.tree,u.config,oa({},wa));console.warn(">>> Utils.validateTree()",e)}},"Show errors in console"),o.createElement("button",{onClick:function(){var e=da(u.tree,u.config,oa(oa({},wa),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1,forceFix:!1})),t=e.fixedTree,n=e.allErrors;n.length&&console.warn("> sanitizeTree validation errors:",n),c(oa(oa({},u),{},{tree:t}))}},"Validate"),o.createElement("button",{onClick:function(){var e=da(u.tree,u.config,oa(oa({},wa),{},{removeEmptyGroups:!0,removeEmptyRules:!0,removeIncompleteRules:!0,forceFix:!1})),t=e.fixedErrors,n=e.fixedTree,r=e.nonFixedErrors;t.length&&console.warn("> sanitizeTree fixed errors:",t),r.length&&console.warn("> sanitizeTree non-fixed validation errors:",r),c(oa(oa({},u),{},{tree:n}))}},"Sanitize"),o.createElement("button",{onClick:function(){var e=da(u.tree,u.config,oa(oa({},wa),{},{forceFix:!0})),t=e.fixedErrors,n=e.fixedTree,r=e.nonFixedErrors;t.length&&console.warn("> sanitizeTree fixed errors:",t),r.length&&console.warn("> sanitizeTree non-fixed validation errors:",r),c(oa(oa({},u),{},{tree:n}))}},"Sanitize & fix")),o.createElement("div",null,"Benchmark:  ",o.createElement("button",{onClick:function(){var e=u.tree,t=u.config,n=function(){ba(e,t),ha(e,t),ya(e,t),ma(e,t),va(e,t),ga(e,t)};n(),u.renderBocks.withProfile&&console.profile(),console.time("export");for(var r=u.renderBocks.withProfile?1:10,l=0;l<r;l++)n();console.timeEnd("export"),u.renderBocks.withProfile&&console.profileEnd()}},"Export"),o.createElement("button",{onClick:function(){var e=u.tree,t=u.config,n=function(){sa(e,t,oa({},wa))};n(),u.renderBocks.withProfile&&console.profile(),console.time("validation");for(var r=u.renderBocks.withProfile?1:10,l=0;l<r;l++)n();console.timeEnd("validation"),u.renderBocks.withProfile&&console.profileEnd()}},"Validation"),o.createElement("button",{onClick:function(){u.renderBocks.withProfile&&console.profile(),console.time("actions"),y(),console.timeEnd("actions"),u.renderBocks.withProfile&&console.profileEnd()}},"Actions"),o.createElement("button",{onClick:p.bind(null,"withProfile")},"with profile: ",u.renderBocks.withProfile?"on":"off")),u.renderBocks.spel?o.createElement(o.Fragment,null,o.createElement("br",null),o.createElement("div",{className:"query-import-spel"},"SpEL:  ",o.createElement("input",{type:"text",size:150,value:u.spelStr,onChange:function(e){var t=e.target.value;c(oa(oa({},u),{},{spelStr:t}))}}),o.createElement("button",{onClick:function(){var e=fa(u.spelStr,u.config),t=(0,l.A)(e,2),n=t[0],r=t[1],a=da(n,u.config,wa),o=a.fixedTree,i=a.fixedErrors;i.length&&console.warn("Fixed errors after import from SpEL:",i),c(oa(oa({},u),{},{tree:null!=o?o:u.tree,spelErrors:r}))}},"import"),o.createElement("br",null),u.spelErrors.length>0&&o.createElement("pre",{style:Ca},Ea(u.spelErrors,void 0,2)))):null,o.createElement(d,{skin:u.skin}),u.renderBocks.queryBuilder&&o.createElement(i.XK,(0,r.A)({},u.config,{value:u.tree,onInit:g,onChange:g,renderBuilder:m})),o.createElement("div",{className:"query-builder-result"},function(e){return o.createElement("div",null,o.createElement("hr",null),function(e){var t=e.tree,n=e.config;if(!e.renderBocks.validation)return null;var r=ca(t,n),l=sa(t,n,oa({},wa)).map((function(e){var t=e.errors,n=e.itemStr,r=e.itemPositionStr;return{errors:t.map((function(e){var t=e.side,n=e.delta,r=e.str,l=e.fixed;return"".concat(l?"* ":"").concat(t?"[".concat([t,n].filter((function(e){return null!=e})).join(" "),"] "):"").concat(r)})),itemStr:n,itemPositionStr:r}}));return o.createElement(o.Fragment,null,r?null:o.createElement("pre",{style:Ca},"Tree has errors"),o.createElement("div",null,"Validation errors:",l.length>0?o.createElement("pre",{style:Ca},Ea(l,void 0,2)):"no"),o.createElement("hr",null))}(e),function(e){var t=e.tree,n=e.config;if(!e.renderBocks.spel)return null;var r=ba(t,n),a=(0,l.A)(r,2),i=a[0],u=a[1];return o.createElement(o.Fragment,null,o.createElement("div",null,"spelFormat:",u.length>0&&o.createElement("pre",{style:Ca},Ea(u,void 0,2)),o.createElement("pre",{style:Aa},Ea(i,void 0,2))),o.createElement("hr",null))}(e),function(e){var t=e.tree,n=e.config;if(!e.renderBocks.strings)return null;var r=ga(t,n),l=ga(t,n,!0);return o.createElement(o.Fragment,null,o.createElement("div",null,"stringFormat:",o.createElement("pre",{style:Aa},Ea(r,void 0,2))),o.createElement("hr",null),o.createElement("div",null,"humanStringFormat:",o.createElement("pre",{style:Aa},Ea(l,void 0,2))),o.createElement("hr",null))}(e),function(e){var t=e.tree,n=e.config;if(!e.renderBocks.sql)return null;var r=ya(t,n),a=(0,l.A)(r,2),i=a[0],u=a[1];return o.createElement(o.Fragment,null,o.createElement("div",null,"sqlFormat:",u.length>0&&o.createElement("pre",{style:Ca},Ea(u,void 0,2)),o.createElement("pre",{style:Aa},Ea(i,void 0,2))),o.createElement("hr",null))}(e),function(e){var t=e.tree,n=e.config;if(!e.renderBocks.jsonlogic)return null;var r=ma(t,n),l=r.logic,a=r.data,i=r.errors;return o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement("a",{href:"http://jsonlogic.com/play.html",target:"_blank",rel:"noopener noreferrer"},"jsonLogicFormat"),":",((null==i?void 0:i.length)||0)>0&&o.createElement("pre",{style:Ca},Ea(i,void 0,2)),!!l&&o.createElement("pre",{style:Aa},"// Rule",":",o.createElement("br",null),Ea(l,void 0,2),o.createElement("br",null),o.createElement("hr",null),"// Data",":",o.createElement("br",null),Ea(a,void 0,2))),o.createElement("hr",null))}(e),function(e){var t=e.tree,n=e.config;if(!e.renderBocks.mongo)return null;var r=ha(t,n),a=(0,l.A)(r,2),i=a[0],u=a[1];return o.createElement(o.Fragment,null,o.createElement("div",null,"mongodbFormat:",u.length>0&&o.createElement("pre",{style:Ca},Ea(u,void 0,2)),o.createElement("pre",{style:Aa},Ea(i,void 0,2))),o.createElement("hr",null))}(e),function(e){var t=e.tree,n=e.config;if(!e.renderBocks.elasticSearch)return null;var r=va(t,n);return o.createElement(o.Fragment,null,o.createElement("div",null,"elasticSearchFormat:",o.createElement("pre",{style:Aa},Ea(r,void 0,2))),o.createElement("hr",null))}(e),function(e){var t=e.tree;if(e.config,!e.renderBocks.jsTree)return null;var n=ia(t);return o.createElement(o.Fragment,null,o.createElement("div",null,"Tree:",o.createElement("pre",{style:Aa},Ea(n,void 0,2))),o.createElement("hr",null))}(e))}(u)))}},37354:()=>{}}]);
//# sourceMappingURL=204.bundle.js.map